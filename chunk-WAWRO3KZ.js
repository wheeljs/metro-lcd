import{a as Pe}from"./chunk-ONHLPZQ3.js";import{a as de,b as ut,d as ke,e as pe,f as ht,g as ft,h as me,i as Q,j as gt,k as _t,l as vt,m as xt,n as yt,o as Fe,p as Ct,q as Be,r as ue,t as bt,v as St,z as wt}from"./chunk-KMQ5XTZQ.js";import{$ as We,$a as ne,Aa as O,Ba as N,D as ee,Ea as k,Fa as Xe,Fb as se,Gb as q,H as Je,Ha as H,Ia as V,Ja as l,Ka as c,L as U,La as _,M as T,Mc as Oe,N as Ze,Nc as st,O as we,Oa as ie,Ob as ot,Oc as lt,Pa as z,Q as Ee,Qa as et,R as v,S as P,Sa as g,T as Ie,Tc as ct,U as Ue,Ua as C,W as qe,Xb as at,Ya as tt,Yb as Te,Z as A,Za as it,_ as $,_a as nt,ab as m,bb as w,c as Z,cb as J,d as K,dd as W,ea as Le,fa as Qe,gb as oe,h as Ve,ib as Me,jb as ae,ka as Ye,l as D,la as Ge,lb as L,lc as le,ma as p,mb as M,na as f,nc as Ae,nd as dt,ob as re,oc as ce,od as pt,pc as $e,pd as mt,qc as rt,s as X,ta as te,u as ze,xa as I,ya as Ke,za as h}from"./chunk-KLKO7VM3.js";import{a as E,b as R,e as Xt}from"./chunk-MON7YFGF.js";var Et=rt({passive:!0}),It=(()=>{let e=class e{constructor(o,i){this._platform=o,this._ngZone=i,this._monitoredElements=new Map}monitor(o){if(!this._platform.isBrowser)return Ve;let i=Ae(o),t=this._monitoredElements.get(i);if(t)return t.subject;let a=new Z,u="cdk-text-field-autofilled",y=j=>{j.animationName==="cdk-text-field-autofill-start"&&!i.classList.contains(u)?(i.classList.add(u),this._ngZone.run(()=>a.next({target:j.target,isAutofilled:!0}))):j.animationName==="cdk-text-field-autofill-end"&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>a.next({target:j.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",y,Et),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:a,unlisten:()=>{i.removeEventListener("animationstart",y,Et)}}),a}stopMonitoring(o){let i=Ae(o),t=this._monitoredElements.get(i);t&&(t.unlisten(),t.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((o,i)=>this.stopMonitoring(i))}};e.\u0275fac=function(i){return new(i||e)(we(ce),we(te))},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Lt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=P({type:e}),e.\u0275inj=T({});let n=e;return n})();var ni=new Ze("MAT_INPUT_VALUE_ACCESSOR"),oi=["button","checkbox","file","hidden","image","radio","range","reset","submit"],ai=0,Mt=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(o){this._disabled=le(o),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(o){this._id=o||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(gt.required)??!1}set required(o){this._required=le(o)}get type(){return this._type}set type(o){this._type=o||"text",this._validateType(),!this._isTextarea&&$e().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(o){this._errorStateTracker.matcher=o}get value(){return this._inputValueAccessor.value}set value(o){o!==this.value&&(this._inputValueAccessor.value=o,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(o){this._readonly=le(o)}get errorState(){return this._errorStateTracker.errorState}set errorState(o){this._errorStateTracker.errorState=o}constructor(o,i,t,a,u,y,j,Gt,Kt,Re){this._elementRef=o,this._platform=i,this.ngControl=t,this._autofillMonitor=Gt,this._formField=Re,this._uid=`mat-input-${ai++}`,this.focused=!1,this.stateChanges=new Z,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Se=>$e().has(Se)),this._iOSKeyupListener=Se=>{let Y=Se.target;!Y.value&&Y.selectionStart===0&&Y.selectionEnd===0&&(Y.setSelectionRange(1,1),Y.setSelectionRange(0,0))};let be=this._elementRef.nativeElement,He=be.nodeName.toLowerCase();this._inputValueAccessor=j||be,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&Kt.runOutsideAngular(()=>{o.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new st(y,t,u,a,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=He==="select",this._isTextarea=He==="textarea",this._isInFormField=!!Re,this._isNativeSelect&&(this.controlType=be.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(o=>{this.autofilled=o.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(o){this._elementRef.nativeElement.focus(o)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(o){o!==this.focused&&(this.focused=o,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let o=this._elementRef.nativeElement.value;this._previousNativeValue!==o&&(this._previousNativeValue=o,this.stateChanges.next())}_dirtyCheckPlaceholder(){let o=this._getPlaceholder();if(o!==this._previousPlaceholder){let i=this._elementRef.nativeElement;this._previousPlaceholder=o,o?i.setAttribute("placeholder",o):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){oi.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let o=this._elementRef.nativeElement.validity;return o&&o.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let o=this._elementRef.nativeElement,i=o.options[0];return this.focused||o.multiple||!this.empty||!!(o.selectedIndex>-1&&i&&i.label)}else return this.focused||!this.empty}setDescribedByIds(o){o.length?this._elementRef.nativeElement.setAttribute("aria-describedby",o.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let o=this._elementRef.nativeElement;return this._isNativeSelect&&(o.multiple||o.size>1)}};e.\u0275fac=function(i){return new(i||e)(f(Le),f(ce),f(_t,10),f(vt,8),f(xt,8),f(lt),f(ni,10),f(It),f(te),f(ft,8))},e.\u0275dir=Ie({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,t){i&1&&g("focus",function(){return t._focusChanged(!0)})("blur",function(){return t._focusChanged(!1)})("input",function(){return t._onInput()}),i&2&&(et("id",t.id)("disabled",t.disabled)("required",t.required),Ke("name",t.name||null)("readonly",t.readonly&&!t._isNativeSelect||null)("aria-invalid",t.empty&&t.required?null:t.errorState)("aria-required",t.required)("id",t.id),N("mat-input-server",t._isServer)("mat-mdc-form-field-textarea-control",t._isInFormField&&t._isTextarea)("mat-mdc-form-field-input-control",t._isInFormField)("mdc-text-field__input",t._isInFormField)("mat-mdc-native-select-inline",t._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[Ee.None,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[oe([{provide:ht,useExisting:e}]),qe]});let n=e;return n})(),je=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=P({type:e}),e.\u0275inj=T({imports:[Oe,Q,Q,Lt,Oe]});let n=e;return n})();var si=[ke,Q,je,Fe,Be],Tt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=P({type:e}),e.\u0275inj=T({imports:[si,ke,Q,je,Fe,Be]});let n=e;return n})();var At=function(n){return n.Default="default",n.Faster="faster",n}(At||{}),he=(()=>{let e=class e{constructor(){this.splitorIcon=ue,this.animating=!0,this.color="#000",this.speed=At.Default}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=v({type:e,selectors:[["lcd-splitor"]],hostAttrs:[1,"lcd-splitor"],hostVars:6,hostBindings:function(i,t){i&2&&(O("color",t.color),N("lcd-splitor--animate-faster",t.speed==="faster")("lcd-splitor--animating",t.animating))},inputs:{animating:"animating",color:"color",speed:"speed"},decls:5,vars:5,consts:[[3,"icon"]],template:function(i,t){i&1&&_(0,"fa-icon",0)(1,"fa-icon",0)(2,"fa-icon",0)(3,"fa-icon",0)(4,"fa-icon",0),i&2&&(h("icon",t.splitorIcon),p(),h("icon",t.splitorIcon),p(),h("icon",t.splitorIcon),p(),h("icon",t.splitorIcon),p(),h("icon",t.splitorIcon))},dependencies:[W],styles:[`.lcd-splitor{display:flex;flex-direction:row}.lcd-splitor--animating>:nth-child(1){animation:1.5s .25s infinite splitor-animation}.lcd-splitor--animating>:nth-child(2){animation:1.5s .5s infinite splitor-animation}.lcd-splitor--animating>:nth-child(3){animation:1.5s .75s infinite splitor-animation}.lcd-splitor--animating>:nth-child(4){animation:1.5s 1s infinite splitor-animation}.lcd-splitor--animating>:nth-child(5){animation:1.5s 1.25s infinite splitor-animation}.lcd-splitor--animate-faster>:nth-child(n){animation-duration:.85s}@keyframes splitor-animation{0%{opacity:0}to{opacity:1}}
`],encapsulation:2,changeDetection:0});let n=e;return n})();var d=function(n){return n.NotInService="not-in-service",n.OnTheWay="on-the-way",n.ArrivingSoon="arriving-soon",n.Arrived="arrived",n.Past="past",n}(d||{});var F=(()=>{let e=class e{constructor(){this.running=new K(null),this.playlist$=this.runningState$.pipe(X(o=>o!=null),D(o=>{let{current:i,next:t}=o,a;switch(i.status!==d.Past?a=i:a=t,a.status){case d.ArrivingSoon:case d.Arrived:return a.voices?.[a.status]??{};default:return{}}}),D(o=>{if(Object.keys(o).length===0)return[];let{ch:i,en:t}=o,a=[];for(let u=0;u<i.length;u++){let y=i[u],j=t[u];y&&a.push(E({lang:"ch"},y)),j&&a.push(E({lang:"en"},j))}return t.length>i.length&&a.push(...t.slice(i.length).filter(u=>u?.voiceUrl?.length>0)),a}),ee(1))}get runningState$(){return this.running.asObservable()}init(o,i){let t=E({},o);if(t.stations=o.stations.map(a=>R(E({},a),{status:d.OnTheWay,disabled:i?.disabledStations?.includes?.(a.id)})),o.direction==="down"&&(t.stations=t.stations.reverse()),t.from=t.stations[0],i.from){let a=t.stations.findIndex(u=>u.id===i.from);a!==-1&&(t.stations.slice(0,a).forEach(u=>u.status=d.NotInService),t.from=t.stations[a])}if(t.to=t.stations.at(-1),i.to){let a=t.stations.findIndex(u=>u.id===i.to);a&&(t.stations.slice(a+1).forEach(u=>u.status=d.NotInService),t.to=t.stations[a])}return this.runningLine=t,this.setStartStation(),this.runningLine}getNextStation(o){let{stations:i}=this.runningLine,t=o+1;if(t===i.length)return null;let a=i[t];return a.disabled?this.getNextStation(t):{index:t,station:a}}setStartStation(){let{from:o,stations:i}=this.runningLine;for(let t=0;t<i.length;t++){let a=i[t];if(o===a){o.status=d.ArrivingSoon;let u=this.getNextStation(t);this.running.next({current:Object.assign(o),next:u?Object.assign(u):null});break}}}next(){let{stations:o}=this.runningLine,i=o.findIndex(y=>y.status===d.ArrivingSoon||y.status===d.Arrived);if(i===-1)return;let t=o[i],{index:a,station:u}=this.getNextStation(i)??{};switch(t.status){case d.ArrivingSoon:t.status=d.Arrived;break;case d.Arrived:if(t.id===this.runningLine.to.id)return;if(t.status=d.Past,u){if(typeof a=="number"&&a>i+1)for(let y=i+1;y<a;y++)o[y].status=d.Past;u.status=d.ArrivingSoon}break}this.running.next({current:Object.assign(t),next:u?Object.assign(u):null})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac});let n=e;return n})();function ge(n){if(!n||!n.main)return"";let{prefix:e,main:s,suffix:o}=n;return[e,s,o].filter(i=>i).join("")}var _e=(()=>{let e=class e{constructor(){this.transform=ge}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Ue({name:"lineName",type:e,pure:!0});let n=e;return n})();function li(n,e){if(n&1&&(l(0,"div",15)(1,"span",16),m(2,"\u4E0B\u4E00\u7AD9"),c(),l(3,"span",17),m(4,"Next"),c()(),l(5,"div",18)(6,"span",16),m(7),c(),l(8,"span",17),m(9),L(10,"stripNewLine"),c()()),n&2){let s=C();p(7),w(s.nameCh),p(2),J(" ",M(10,2,s.nameEn)," ")}}function ci(n,e){if(n&1&&(l(0,"div",15)(1,"span",16),m(2,"\u5230\u8FBE\u7AD9"),c(),l(3,"span",17),m(4,"Arrived"),c()(),l(5,"div",18)(6,"span",16),m(7),c(),l(8,"span",17),m(9),L(10,"stripNewLine"),c()()),n&2){let s=C();p(7),w(s.nameCh),p(2),J(" ",M(10,2,s.nameEn)," ")}}function di(n,e){if(n&1&&I(0,li,11,4)(1,ci,11,4),n&2){let s=e;k(0,s.status==="arriving-soon"?0:s.status==="arrived"?1:-1)}}var kt=(()=>{let e=class e{constructor(o){this.runningLineService=o,this.splitorIcon=ue,this.running$=o.runningState$.pipe(X(i=>i!=null),D(i=>{let{current:t}=i;return t.status!==d.Past?t:i.next}))}};e.\u0275fac=function(i){return new(i||e)(f(F))},e.\u0275cmp=v({type:e,selectors:[["lcd-header"]],inputs:{line:"line"},decls:28,vars:12,consts:[[1,"lcd-header","lcd-header--grid"],[1,"lcd-header__logo-container"],["src","assets/logo.png","alt","Jinan Metro Logo",1,"lcd-header__logo"],[1,"lcd-header__line-number"],[1,"lcd-header__line-number__text"],[1,"lcd-header__line-number__text__ch"],[1,"lcd-header__line-number__text__en"],[1,"lcd-header__station"],[1,"lcd-header__dest"],[1,"lcd-header__dest__a"],[1,"lcd-header__dest__cn"],[1,"lcd-header__dest__en"],[1,"lcd-header__dest__splitor"],["color","var(--foreground-color)"],[1,"lcd-header__dest__b"],[1,"lcd-header__station__prefix"],[1,"lcd-header__station__cn"],[1,"lcd-header__station__en"],[1,"lcd-header__station__station-name"]],template:function(i,t){if(i&1&&(l(0,"div",0)(1,"div",1),_(2,"img",2),c(),l(3,"div",3)(4,"span"),m(5),c(),l(6,"div",4)(7,"span",5),m(8),c(),l(9,"span",6),m(10),L(11,"lineName"),c()()(),l(12,"div",7),I(13,di,2,1),L(14,"async"),c(),l(15,"div",8)(16,"div",9)(17,"span",10),m(18),c(),l(19,"span",11),m(20),c()(),l(21,"div",12),_(22,"lcd-splitor",13),c(),l(23,"div",14)(24,"span",10),m(25),c(),l(26,"span",11),m(27),c()()()()),i&2){let a;p(5),w(t.line.nameCh.main),p(3),J(" ",t.line.nameCh.suffix," "),p(2),J(" ",M(11,8,t.line.nameEn)," "),p(3),k(13,(a=M(14,10,t.running$))?13:-1,a),p(5),w(t.line.from.nameCh),p(2),w(t.line.from.nameEn),p(5),w(t.line.to.nameCh),p(2),w(t.line.to.nameEn)}},dependencies:[he,q,pt,_e],styles:[".lcd-header[_ngcontent-%COMP%]{padding:8px 64px 8px 72px;height:96px;display:flex;flex-direction:row;background-color:var(--line-color)}.lcd-header__logo-container[_ngcontent-%COMP%]{flex:0 0;display:flex;flex-direction:column;justify-content:center;padding:8px;background-color:#fff;border-radius:8px}.lcd-header__logo[_ngcontent-%COMP%]{height:100%}.lcd-header__line-number[_ngcontent-%COMP%]{flex:0 0;margin-left:32px;display:flex;flex-direction:row;word-break:keep-all;white-space:nowrap;align-items:center;color:var(--foreground-color)}.lcd-header__line-number[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-weight:700;font-size:98px;line-height:96px}.lcd-header__line-number__text[_ngcontent-%COMP%]{margin-left:8px;display:flex;flex-direction:column;justify-content:center}.lcd-header__line-number__text__ch[_ngcontent-%COMP%]{font-size:48px;line-height:1.2}.lcd-header__line-number__text__en[_ngcontent-%COMP%]{font-size:28px}.lcd-header__station[_ngcontent-%COMP%]{flex:1 1;margin:-8px 40px;min-width:34.5834%;display:flex;flex-direction:row;align-items:center;justify-content:space-evenly;border-radius:0 0 8px 8px;background-color:#fff;box-shadow:2px 2px 5px #000000a6}.lcd-header__station__prefix[_ngcontent-%COMP%], .lcd-header__station__station-name[_ngcontent-%COMP%]{padding:0 40px;display:flex;flex-direction:column;word-break:keep-all;white-space:nowrap;text-align:center}.lcd-header__station__cn[_ngcontent-%COMP%]{font-weight:700;font-size:48px;line-height:1.2}.lcd-header__station__en[_ngcontent-%COMP%]{font-size:28px}.lcd-header__dest[_ngcontent-%COMP%]{flex:1 0;display:flex;flex-direction:row;align-items:center;justify-content:flex-end;color:var(--foreground-color)}.lcd-header__dest__splitor[_ngcontent-%COMP%]{margin:0 24px;font-size:48px}.lcd-header__dest__cn[_ngcontent-%COMP%]{font-size:48px;line-height:1.2}.lcd-header__dest__en[_ngcontent-%COMP%]{font-size:28px}.lcd-header__dest__a[_ngcontent-%COMP%], .lcd-header__dest__b[_ngcontent-%COMP%]{display:flex;flex-direction:column;word-break:keep-all;white-space:nowrap;text-align:center}.lcd-header--grid[_ngcontent-%COMP%]{display:grid;grid-template-rows:100%;grid-template-columns:repeat(2,1fr) repeat(2,3fr);column-gap:32px}.lcd-header--grid[_ngcontent-%COMP%]   .lcd-header__line-number[_ngcontent-%COMP%]{margin-left:0}.lcd-header--grid[_ngcontent-%COMP%]   .lcd-header__station[_ngcontent-%COMP%]{justify-self:stretch;margin-right:0;margin-left:0}"]});let n=e;return n})();var B=(()=>{let e=class e{get config$(){return this.configSubject.asObservable()}get config(){return this.configSubject.getValue()}constructor(){this.configSubject=new K({nextOnAudioEnded:!0,nextGap:1e3,disabledStations:[]})}update(o){this.configSubject.next(Object.assign({},this.configSubject.value,o))}reset(o={}){this.configSubject.next(E({nextOnAudioEnded:!0,nextGap:1e3,disabledStations:[]},o))}toggleStationDisabled(o){let{disabledStations:i}=this.config,t;i.includes(o)?t=i.filter(a=>a!==o):t=[...i,o],this.update({disabledStations:t})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac});let n=e;return n})();var Ft=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=v({type:e,selectors:[["lcd-transfer-icon"]],hostVars:4,hostBindings:function(i,t){i&2&&O("--primary-color",t.mainColor)("--secondary-color",t.transferColor||t.mainColor)},inputs:{mainColor:"mainColor",transferColor:"transferColor"},decls:3,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"svg-inline--fa"],["d","M16 312v7.6 .7V440c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2l41.6-41.6c87.6 86.5 228.7 86.2 315.8-1c24.4-24.4 42.1-53.1 52.9-83.7c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.2 62.2-162.7 62.5-225.3 1L185 329c6.9-6.9 8.9-17.2 5.2-26.2s-12.5-14.8-22.2-14.8H48.4h-.7H40c-13.3 0-24 10.7-24 24z",2,"fill","var(--primary-color)"],["d","M142.9 142.9c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H463.5c0 0 0 0 0 0H472c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5c7.7-21.8 20.2-42.3 37.8-59.8z",2,"fill","var(--secondary-color)"]],template:function(i,t){i&1&&(We(),l(0,"svg",0),_(1,"path",1)(2,"path",2),c())},encapsulation:2,changeDetection:0});let n=e;return n})();var Bt=(()=>{let e=class e{constructor(o){this.containerConfigService=o}setFrom(){this.containerConfigService.update({from:this.station.id})}toggleEnabled(){this.containerConfigService.toggleStationDisabled(this.station.id)}setTo(){if(this.line){let{from:o,stations:i}=this.line,t=i.findIndex(u=>u.id===o.id),a=i.findIndex(u=>u.id===this.station.id);if(a===t){alert("\u8D77\u59CB\u7AD9\u548C\u7EC8\u70B9\u7AD9\u4E0D\u80FD\u4E3A\u540C\u4E00\u7AD9");return}else if(a<t){alert("\u7EC8\u70B9\u7AD9\u4E0D\u80FD\u5728\u8D77\u59CB\u7AD9\u524D");return}}this.containerConfigService.update({to:this.station.id})}};e.\u0275fac=function(i){return new(i||e)(f(B))},e.\u0275cmp=v({type:e,selectors:[["lcd-station-toolbar"]],hostAttrs:[1,"lcd-station__toolbar"],inputs:{line:"line",station:"station"},decls:6,vars:1,consts:[[1,"lcd-station__toolbar-item",3,"click"]],template:function(i,t){i&1&&(l(0,"div",0),g("click",function(){return t.setFrom()}),m(1,` \u8D77
`),c(),l(2,"div",0),g("click",function(){return t.toggleEnabled()}),m(3),c(),l(4,"div",0),g("click",function(){return t.setTo()}),m(5,` \u7EC8
`),c()),i&2&&(p(3),J(" ",t.station.disabled?"\u542F":"\u7981",`
`))},styles:[`.lcd-station__toolbar{position:absolute;top:48px;right:0;display:flex;flex-direction:row;padding:4px 0;background-color:#fff;border-radius:4px;box-shadow:0 2px 10px #0006;transform:translate(calc(50% - 20px));display:none}.lcd-station--showing-editing-bar .lcd-station__toolbar{display:flex}.lcd-station__toolbar-item{margin:0 4px;display:flex;flex-direction:column;align-items:center;width:24px;height:24px;border:1px solid rgba(0,0,0,.4);border-radius:50%;cursor:pointer}.lcd-station__toolbar-item:hover{box-shadow:2px 2px 7px -3px #0006}
`],encapsulation:2,changeDetection:0});let n=e;return n})();var hi=(n,e)=>e.id;function fi(n,e){if(n&1&&_(0,"lcd-transfer-icon",4),n&2){let s=C();h("transferColor",s.station.transfers==null||s.station.transfers[0]==null?null:s.station.transfers[0].color)}}function gi(n,e){if(n&1){let s=z();l(0,"fa-icon",11),g("click",function(){A(s);let i=C();return $(i.toggleEditingBar())}),c()}if(n&2){let s=C();h("icon",s.settingIcon)}}function _i(n,e){n&1&&(l(0,"span",8),m(1,"(\u6682\u7F13\u5F00\u901A)"),c())}function vi(n,e){if(n&1&&(l(0,"div",13)(1,"span",14),m(2),L(3,"lineName"),c(),l(4,"span",15),m(5),L(6,"lineName"),c()()),n&2){let s=e.$implicit;O("--transfer-line-color",s.color),N("lcd-station__transfer--disabled",s.disabled),p(2),w(M(3,6,s.nameCh)),p(3),w(M(6,8,s.nameEn))}}function xi(n,e){if(n&1&&(l(0,"div",9),H(1,vi,7,10,"div",12,hi),c()),n&2){let s=C();p(),V(s.station.transfers)}}function yi(n,e){if(n&1&&_(0,"lcd-station-toolbar",10),n&2){let s=C();h("line",s.line)("station",s.station)}}var jt=(()=>{let e=class e{get transferrable(){return this.station?.transfers?.some(o=>!o.disabled)??!1}get config(){return this.containerConfigService.config}constructor(o){this.containerConfigService=o,this.settingIcon=bt,this.StationStatus=d,this.showEditingBar=!1}toggleEditingBar(){this.showEditingBar=!this.showEditingBar}clickOutside(){this.showEditingBar=!1}};e.\u0275fac=function(i){return new(i||e)(f(B))},e.\u0275cmp=v({type:e,selectors:[["lcd-station"]],inputs:{line:"line",station:"station"},decls:13,vars:19,consts:[[1,"lcd-station",3,"clickOutside","attachOutsideOnClick"],[1,"lcd-station__line"],["speed","faster",3,"animating","color"],[1,"lcd-station__point"],["mainColor","var(--line-color)",3,"transferColor"],[1,"lcd-station__info"],[1,"lcd-station__name__ch"],[1,"lcd-station__name__en",3,"innerHTML"],[1,"lcd-station__disabled"],[1,"lcd-station__transfers"],[3,"line","station"],[1,"lcd-station__setting-icon",3,"click","icon"],[1,"lcd-station__transfer",3,"lcd-station__transfer--disabled","--transfer-line-color"],[1,"lcd-station__transfer"],[1,"lcd-station__transfer__line__ch"],[1,"lcd-station__transfer__line__en"]],template:function(i,t){i&1&&(l(0,"div",0),g("clickOutside",function(){return t.clickOutside()}),l(1,"div",1),_(2,"lcd-splitor",2),c(),l(3,"div",3),I(4,fi,1,1,"lcd-transfer-icon",4)(5,gi,1,1),c(),l(6,"div",5)(7,"span",6),m(8),c(),_(9,"span",7),I(10,_i,2,0,"span",8)(11,xi,3,0,"div",9),c(),I(12,yi,1,2,"lcd-station-toolbar",10),c()),i&2&&(N("lcd-station--transferrable",t.transferrable)("lcd-station--disabled",t.station.disabled)("lcd-station--arriving-soon",t.station.status===t.StationStatus.ArrivingSoon)("lcd-station--past",t.station.status===t.StationStatus.Past||t.station.status===t.StationStatus.NotInService)("lcd-station--showing-editing-bar",t.showEditingBar),h("attachOutsideOnClick",!0),p(2),h("animating",t.station.status==="arriving-soon")("color",t.station.status==="arriving-soon"?"red":"white"),p(2),k(4,t.transferrable?4:t.config.editing?5:-1),p(4),w(t.station.nameCh),p(),h("innerHTML",t.station.nameEn,Ye),p(),k(10,t.station.disabled?10:-1),p(),k(11,t.station.transfers?11:-1),p(),k(12,t.config.editing?12:-1))},dependencies:[W,dt,he,Ft,Bt,_e],styles:[`.lcd-station{position:relative;display:flex;flex-direction:row;align-items:center}.lcd-station--disabled{color:#e9e9e9}.lcd-station--disabled :not(.lcd-station__line){filter:grayscale(100%)}.lcd-station--past{color:#e9e9e9}.lcd-station--past:not(.just-priority){filter:grayscale(100%)}.lcd-station__point{position:relative;width:40px;height:40px;border:4px solid var(--line-color);border-radius:50%;background-color:#fff;text-align:center;font-size:24px;line-height:32px;z-index:30}.lcd-station__setting-icon{display:none}.lcd-station--transferrable:not(.lcd-station--disabled) .lcd-station__point{animation:1.75s ease-in infinite transferrable-station}.lcd-station--arriving-soon .lcd-station__point{background-color:var(--line-color)}.lcd-station__line{flex-grow:1;margin-inline:-4px;height:24px;background-color:var(--line-color);z-index:-1;text-align:center}.lcd-station__line lcd-splitor{display:inline;font-size:24px;line-height:24px;z-index:20}.lcd-station__line lcd-splitor :nth-child(n+4){display:none}.lcd-station__info{position:absolute;top:48px;right:0;display:flex;flex-direction:column;word-break:keep-all;white-space:nowrap;transform:translate(calc(50% - 20px));text-align:center}.lcd-station:not(.lcd-station--past,.lcd-station--disabled) .lcd-station__name__ch,.lcd-station:not(.lcd-station--past,.lcd-station--disabled) .lcd-station__name__en{text-shadow:1px 0 1px rgba(0,0,0,.5)}.lcd-station__transfers{align-self:center}.lcd-station__transfer{margin:4px 0;padding:4px 16px;display:flex;flex-direction:column;word-break:keep-all;white-space:nowrap;border-radius:8px;color:#fff;background-color:var(--transfer-line-color)}.lcd-station__transfer--disabled,.lcd-station--disabled .lcd-station__transfer{background-color:#e9e9e9}.lcd-station:hover .lcd-station__setting-icon,.lcd-station--showing-editing-bar .lcd-station__setting-icon{display:initial}lcd-station:first-child .lcd-station__line{display:none}lcd-station:nth-child(2n) .lcd-station__info{transform:translate(calc(50% - 20px),calc(-56px - 100%))}lcd-station:nth-child(2n) .lcd-station__info .lcd-station__transfers{order:-1}@keyframes transferrable-station{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`],encapsulation:2});let n=e;return n})();var bi=(n,e)=>e.id;function Si(n,e){if(n&1&&_(0,"lcd-station",2),n&2){let s=e.$implicit,o=C();h("line",o.line)("station",s)}}var Dt=(()=>{let e=class e{get stations(){return this.line?.stations??[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=v({type:e,selectors:[["lcd-route"]],hostAttrs:[1,"lcd-route"],hostVars:2,hostBindings:function(i,t){i&2&&O("--rest-station-count",t.stations.length-1)},inputs:{line:"line"},decls:4,vars:0,consts:[[1,"lcd-route__station-container"],[1,"lcd-route__stations"],[3,"line","station"]],template:function(i,t){i&1&&(l(0,"div",0)(1,"div",1),H(2,Si,1,2,"lcd-station",2,bi),c()()),i&2&&(p(2),V(t.stations))},dependencies:[jt],styles:[".lcd-route__station-container[_ngcontent-%COMP%]{padding-top:128px;padding-bottom:128px}.lcd-route__stations[_ngcontent-%COMP%]{display:grid;grid-template-columns:40px repeat(var(--rest-station-count),1fr);align-items:start}"]});let n=e;return n})();function Ei(n,e){if(n&1&&(l(0,"div"),m(1),c()),n&2){let s=e.$implicit;p(),w(s)}}var Nt=(()=>{let e=class e{constructor(o){this.runningLineService=o,this.subtitle$=this.runningLineService.playlist$.pipe(D(i=>{let t=[];for(let a=0;a<i.length;a++){let u=i[a];if(a===0){t.push([u.subtitle]);continue}let y=i[a-1];u.lang===y.lang?t.at(-1)?.push(u.subtitle):t.push([u.subtitle])}return t.map(a=>a.join(""))}))}};e.\u0275fac=function(i){return new(i||e)(f(F))},e.\u0275cmp=v({type:e,selectors:[["lcd-subtitle"]],decls:3,vars:2,template:function(i,t){i&1&&(H(0,Ei,2,1,"div",null,Xe),L(2,"async")),i&2&&V(M(2,0,t.subtitle$))},dependencies:[q],styles:["[_nghost-%COMP%]{font-size:24px;font-weight:500;line-height:1.5}"]});let n=e;return n})();var Rt=(()=>{let e=class e{get line(){return this._line}set line(o){this._line=o,this.lineSubject.next(o)}get lineColor(){return this.runningLine.color}get config(){return this.containerConfigService.config}constructor(o,i){this.runningLineService=o,this.containerConfigService=i,this.lineSubject=new Z,this.lineSubject.pipe(Je(t=>{this.containerConfigService.reset({disabledStations:t.stations.filter(a=>a.disabled).map(a=>a.id)})}),ze(this.containerConfigService.config$)).subscribe(([t,a])=>{this.runningLine=this.runningLineService.init(t,a)})}};e.\u0275fac=function(i){return new(i||e)(f(F),f(B))},e.\u0275cmp=v({type:e,selectors:[["lcd-container"]],hostVars:4,hostBindings:function(i,t){i&2&&O("--foreground-color",t.line.ui.foregroundColor||"#000")("--line-color",t.lineColor)},inputs:{line:"line"},decls:4,vars:2,consts:[[3,"line"],[1,"lcd-wrapper"]],template:function(i,t){i&1&&(_(0,"lcd-header",0),l(1,"div",1),_(2,"lcd-route",0)(3,"lcd-subtitle"),c()),i&2&&(h("line",t.runningLine),p(2),h("line",t.runningLine))},dependencies:[kt,Dt,Nt],styles:["[_nghost-%COMP%]{display:block;min-width:1920px;font-family:PingFang SC,Hei}.lcd-wrapper[_ngcontent-%COMP%]{padding-right:64px;padding-left:64px}"]});let n=e;return n})();var Ti=["audio"],Pi=n=>({$implicit:n});function Ai(n,e){n&1&&ie(0)}function $i(n,e){if(n&1){let s=z();l(0,"button",4),g("click",function(){let i=A(s).$implicit;return $(i.play())}),m(1,"Play"),c(),l(2,"button",4),g("click",function(){let i=A(s).$implicit;return $(i.pause())}),m(3,"Pause"),c(),l(4,"button",4),g("click",function(){let i=A(s).$implicit;return $(i.next())}),m(5,"Next"),c()}if(n&2){let s=C();h("disabled",s.disabled),p(2),h("disabled",s.disabled),p(2),h("disabled",s.disabled)}}var Ht=(()=>{let e=class e{constructor(){this.disabled=!1,this.ended=new Qe,this.autoplay=!1,this.playingIndex=-1}set playlist(o){this._playlist=[...o],this.playingIndex=-1,this.next()}get playing(){return this._playlist?.[this.playingIndex]}get context(){return{play:this.play.bind(this),pause:this.pause.bind(this),next:this.next.bind(this)}}ngAfterViewInit(){this.playing&&this.playingIndex!==0&&this.audio.nativeElement.play()}play(){this.autoplay=!0,this.audio?.nativeElement?.play?.()}pause(){this.autoplay=!1,this.audio?.nativeElement?.pause?.()}next(){let o=this.playingIndex+1;return o===this._playlist?.length?!1:(this.playingIndex=o,setTimeout(()=>this.audio?.nativeElement?.load?.()),!0)}audioLoaded(o){let i=o.target;(this.autoplay||this.playingIndex!==0)&&i.play()}audioEnded(){this.next()||this.ended.emit()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=v({type:e,selectors:[["lcd-player"]],viewQuery:function(i,t){if(i&1&&tt(Ti,5),i&2){let a;it(a=nt())&&(t.audio=a.first)}},inputs:{controls:"controls",disabled:"disabled",playlist:"playlist"},outputs:{ended:"ended"},decls:5,vars:5,consts:[["audio",""],["defaultControls",""],[3,"canplaythrough","ended","src"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["mat-stroked-button","",3,"click","disabled"]],template:function(i,t){if(i&1){let a=z();l(0,"audio",2,0),g("canplaythrough",function(y){return A(a),$(t.audioLoaded(y))})("ended",function(){return A(a),$(t.audioEnded())}),c(),I(2,Ai,1,0,"ng-container",3)(3,$i,6,3,"ng-template",null,1,re)}if(i&2){let a=ne(4);h("src",t.playing,Ge),p(2),h("ngTemplateOutlet",t.controls||a)("ngTemplateOutletContext",ae(3,Pi,t.context))}},dependencies:[se,de]});let n=e;return n})();var Fi=()=>[],Bi=()=>["/dashboard"],ji=n=>({$implicit:n});function Di(n,e){n&1&&ie(0)}function Ni(n,e){if(n&1&&I(0,Di,1,0,"ng-container",21),n&2){let s=C();h("ngTemplateOutlet",s.customOperation)("ngTemplateOutletContext",ae(2,ji,s.config))}}var Vt=(()=>{let e=class e{get config(){return this.containerConfigService.config}constructor(o,i,t){this.runningLineService=o,this.containerConfigService=i,this.changelogService=t,this.collapseIcon=St,this.collapsed=!1,this.playlist$=this.runningLineService.playlist$.pipe(D(a=>a.map(u=>u?.voiceUrl)),ee(1))}togglePanel(){this.collapsed=!this.collapsed}moveNext(){this.runningLineService.next()}onPlayerEnded(){this.config.nextOnAudioEnded&&setTimeout(()=>this.moveNext(),this.config.nextGap)}_updateConfig(o,i){this.containerConfigService.update({[o]:i})}updateConfig(o,i){this._updateConfig(o,i.target.value)}updateBooleanConfig(o,i){this._updateConfig(o,i.checked)}showChangelog(){this.changelogService.show()}};e.\u0275fac=function(i){return new(i||e)(f(F),f(B),f(wt))},e.\u0275cmp=v({type:e,selectors:[["lcd-operation-panel"]],hostAttrs:[1,"lcd-operation-panel"],hostVars:2,hostBindings:function(i,t){i&2&&N("lcd-operation-panel--collapsed",t.collapsed)},inputs:{customOperation:"customOperation"},decls:52,vars:13,consts:[[1,"lcd-operation-panel__header"],[1,"lcd-operation-panel__footer"],["href","https://space.bilibili.com/4946860","target","_blank","referrerpolicy","no-referrer",2,"text-decoration","none"],["href","https://github.com/RVC-Boss/GPT-SoVITS","target","_blank","referrerpolicy","no-referrer"],["href","https://angular.io","target","_blank","referrerpolicy","no-referrer"],["href","https://fontawesome.com","target","_blank","referrerpolicy","no-referrer"],[1,"lcd-operation-panel__toggle",3,"click"],[3,"icon"],[1,"lcd-operation-panel__content"],[1,"lcd-operation-panel__category"],[1,"lcd-operation-panel__category__title"],[1,"lcd-operation-panel__operation-item"],["mat-stroked-button","",3,"click","disabled"],[3,"change","checked"],["subscriptSizing","dynamic"],["matInput","","type","number","min","0","step","100",2,"width","80px",3,"change","value"],["type","checkbox",3,"change","checked"],[3,"ended","playlist","disabled"],[1,"lcd-operation-panel__category","lcd-operation-panel__category--post"],["mat-stroked-button","",3,"routerLink"],["mat-stroked-button","",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,t){i&1&&(l(0,"div",0)(1,"div",1),m(2," \u4F5C\u8005\uFF1A\u3010bilibili\u3011"),l(3,"a",2),m(4,"\u8F71\u8F98\u662F\u795E\u68CD"),c(),m(5,"\xA0\xA0Powered by "),l(6,"a",3),m(7,"GPT-SoVITS"),c(),m(8,", "),l(9,"a",4),m(10,"Angular"),c(),m(11,", "),l(12,"a",5),m(13,"FontAwesome"),c(),m(14,"\xA0\xA0\u8BF7\u52FF\u8F6C\u8F7D "),c(),l(15,"div",6),g("click",function(){return t.togglePanel()}),_(16,"fa-icon",7),c()(),l(17,"div",8),I(18,Ni,1,4,"ng-container"),l(19,"div",9)(20,"div",10),m(21,"LCD Control"),c(),l(22,"span",11)(23,"button",12),g("click",function(){return t.moveNext()}),m(24,"Next"),c()(),_(25,"br"),l(26,"span",11)(27,"mat-slide-toggle",13),g("change",function(u){return t.updateBooleanConfig("nextOnAudioEnded",u)}),m(28,"Move Next When Audio Ended"),c()(),l(29,"span",11)(30,"mat-form-field",14)(31,"mat-label"),m(32,"Move Gap Time(ms):"),c(),l(33,"input",15),g("change",function(u){return t.updateConfig("nextGap",u)}),c()()(),_(34,"br"),l(35,"span",11)(36,"mat-slide-toggle",16),g("change",function(u){return t.updateBooleanConfig("editing",u)}),m(37,"Edit Station Mode (\u26A0Will Lose Current Running Status)"),c()()(),l(38,"div",9)(39,"div",10),m(40,"Voice Control"),c(),l(41,"div",11)(42,"lcd-player",17),L(43,"async"),g("ended",function(){return t.onPlayerEnded()}),c()()(),l(44,"div",18)(45,"div",10),m(46,"About"),c(),l(47,"div",11)(48,"a",19),m(49,"Dashboard"),c(),l(50,"button",20),g("click",function(){return t.showChangelog()}),m(51,"Changelog"),c()()()()),i&2&&(p(16),h("icon",t.collapseIcon),p(2),k(18,t.customOperation?18:-1),p(5),h("disabled",t.config.editing),p(4),h("checked",t.config.nextOnAudioEnded),p(6),h("value",t.config.nextGap),p(3),h("checked",t.config.editing),p(6),h("playlist",M(43,9,t.playlist$)||Me(11,Fi))("disabled",t.config.editing),p(6),h("routerLink",Me(12,Bi)))},dependencies:[se,W,ut,de,me,pe,Mt,yt,at,Ht,q],styles:[`.lcd-operation-panel{position:fixed;right:0;bottom:0;left:0;display:flex;flex-direction:column;padding:0 32px 32px;height:256px;transition:height .25s ease-in-out;box-shadow:0 0 10px #0006}.lcd-operation-panel--collapsed{padding:0;min-height:initial;height:50.4px}.lcd-operation-panel--collapsed .lcd-operation-panel__toggle{transform:rotate(-180deg)}.lcd-operation-panel--collapsed .lcd-operation-panel__footer{padding-top:16.2px;padding-bottom:16.2px}.lcd-operation-panel--collapsed>:not(.lcd-operation-panel__header){display:none}.lcd-operation-panel__content{display:flex;flex-direction:row;column-gap:32px;padding:16px 0}.lcd-operation-panel__category{font-weight:500}.lcd-operation-panel__category__title{margin-bottom:8px}.lcd-operation-panel__category--post{margin-left:auto}.lcd-operation-panel__footer{padding:7px 0;color:#e9e9e9;line-height:18px;text-align:center}.lcd-operation-panel__footer a:active,.lcd-operation-panel__footer a:visited{color:inherit}.lcd-operation-panel__footer a:hover{color:var(--line-color)}.lcd-operation-panel__toggle{position:absolute;top:0;right:0;padding:16px;cursor:pointer;transition:transform .25s ease-in}.lcd-operation-panel .mdc-button+.mdc-button,.lcd-operation-panel__operation-item+.lcd-operation-panel__operation-item{margin-left:8px}
`],encapsulation:2});let n=e;return n})();var Ne={};Xt(Ne,{Line2:()=>Wt});var G={voiceUrl:"common/TrainRunning.wav",subtitle:"\u5217\u8F66\u8FD0\u884C\u8BF7\u7AD9\u7A33\u6276\u597D\uFF0C\u4E0D\u8981\u770B\u624B\u673A\uFF0C\u6CE8\u610F\u811A\u4E0B\u5B89\u5168\u3002"},xe={voiceUrl:"common/HeartSeat.wav",subtitle:"\u8BF7\u628A\u7231\u5FC3\u4E13\u5EA7\u7559\u7ED9\u6709\u9700\u8981\u7684\u4E58\u5BA2\u3002"};var Ce=function(n){return n.Left="left",n.Right="right",n.Both="both",n}(Ce||{}),ye={[Ce.Left]:{ch:"\u5DE6\u8FB9",en:"the left"},[Ce.Right]:{ch:"\u53F3\u8FB9",en:"the right"},[Ce.Both]:{ch:"\u53CC\u4FA7",en:"both sides"}};function zt(n,e){return Array.isArray(n)?e==="ch"?`\u53EF\u6362\u4E58${n.map(s=>ge(s.nameCh).toLowerCase()).join("\uFF0C")}\uFF0C\u8BF7\u6CE8\u610F\u6362\u4E58\u5217\u8F66\u7684\u9996\u672B\u73ED\u8F66\u65F6\u95F4\u3002`:`You can transfer to ${n.map(s=>ge(s.nameEn).toLowerCase()).join(", ")}. `:""}var Hi={[d.ArrivingSoon]:{ch:(n,{side:e="left",terminal:s,transfer:o}={})=>o?zt(n.transfers,"ch"):`\u4E0B\u4E00\u7AD9${s?"\u7EC8\u70B9\u7AD9":""}${n.nameCh}\uFF0C\u5F00${ye[e].ch}\u95E8\u3002`,en:(n,{side:e="left",terminal:s}={})=>`Next station ${s?"is the terminal station ":""}${n.nameEn.replace("<br>"," ")}. ${zt(n.transfers,"en")}Doors will open on ${ye[e].en}.`},[d.Arrived]:{ch:(n,{side:e="left",terminal:s}={})=>`${s?"\u7EC8\u70B9\u7AD9":""}${n.nameCh}\u5230\u4E86\uFF0C\u5F00${ye[e].ch}\u95E8\u3002`,en:(n,{side:e="left",terminal:s}={})=>`We are now at ${s?"the terminal station ":""}${n.nameEn.replace("<br>"," ")}. Doors will open on ${ye[e].en}.`}},Jt=Hi;function Zt(n,e){return n&&Object.fromEntries(Object.entries(n).map(([s,o])=>[s,Object.fromEntries(Object.entries(o).map(([i,t])=>[i,t.map((a,u)=>e({voice:a,status:s,lang:i,index:u}))]))]))}function Ut(n){return R(E({},n),{stations:n.stations.map(e=>e.voices?R(E({},e),{voices:Zt(e.voices,({voice:s,status:o,lang:i})=>{let t;if(s)typeof s=="string"?t={voiceUrl:s}:t=E({},s);else return s;return t=t,i&&i in Pe.VoicesPrefix&&(t.voiceUrl=Pe.VoicesPrefix[i]+t.voiceUrl),t.subtitle||(t.subtitle=Jt[o]?.[i]?.(e,t.subtitleConfig??{})),t})}):e)})}var r="02/",S={voiceUrl:`${r}19-PengJiaZhuang-T.wav`,subtitle:"\u672C\u6B21\u5217\u8F66\u7EC8\u70B9\u7AD9\u5F6D\u5BB6\u5E84\u3002"},x=[{voiceUrl:`${r}Common-0201.wav`,subtitle:"\u4E0A\u4E0B\u8F66\u5F53\u5FC3\u7F1D\u9699\uFF0C\u8BF7\u6CE8\u610F\u811A\u4E0B\u5B89\u5168\u3002\u95E8\u706F\u95EA\u70C1\u65F6\uFF0C\u8BF7\u52FF\u4E0A\u4E0B\u8F66\u3002"}],qt={ui:{get title(){return"Jinan Metro Line 2"}},id:"02",nameCh:{main:"2",suffix:"\u53F7\u7EBF"},nameEn:{prefix:"Line ",main:"2"},color:"#FEDD00",direction:"up",stations:[{id:"0201",nameCh:"\u738B\u5E9C\u5E84",nameEn:"Wang Fu Zhuang",transfers:[{id:"01",nameCh:{main:"1",suffix:"\u53F7\u7EBF"},nameEn:{prefix:"Line ",main:"1"},color:"#A55FC8"}],voices:{[d.ArrivingSoon]:{ch:[{voiceUrl:`${r}01-WangFuZhuang-T.wav`,subtitle:"\u672C\u6B21\u5217\u8F66\u7EC8\u70B9\u7AD9\u738B\u5E9C\u5E84\u3002"},{voiceUrl:`${r}01-WangFuZhuang-01.wav`,subtitleConfig:{terminal:!0}},{voiceUrl:`${r}01-WangFuZhuang-0101.wav`,subtitleConfig:{transfer:!0}}],en:[,,{voiceUrl:`${r}01-WangFuZhuang-01.wav`,subtitleConfig:{terminal:!0}}]},[d.Arrived]:{ch:[{voiceUrl:`${r}01-WangFuZhuang-02.wav`,subtitleConfig:{terminal:!0}},...x],en:[,{voiceUrl:`${r}01-WangFuZhuang-02.wav`,subtitleConfig:{terminal:!0}}]}}},{id:"0202",nameCh:"\u814A\u5C71\u5357",nameEn:"La Shan Nan",voices:{[d.ArrivingSoon]:{ch:[S,`${r}02-LaShanNan-01.wav`,G],en:[,`${r}02-LaShanNan-01.wav`]},[d.Arrived]:{ch:[`${r}02-LaShanNan-02.wav`,...x],en:[,`${r}02-LaShanNan-02.wav`]}}},{id:"0203",nameCh:"\u814A\u5C71",nameEn:"La Shan",voices:{[d.ArrivingSoon]:{ch:[S,`${r}03-LaShan-01.wav`],en:[,`${r}03-LaShan-01.wav`]},[d.Arrived]:{ch:[`${r}03-LaShan-02.wav`,...x],en:[,`${r}03-LaShan-02.wav`]}}},{id:"0204",nameCh:"\u4E8C\u73AF\u897F\u8DEF",nameEn:"Er Huan Xi Lu",voices:{[d.ArrivingSoon]:{ch:[S,`${r}04-ErHuanXiLu-01.wav`,xe],en:[,`${r}04-ErHuanXiLu-01.wav`]},[d.Arrived]:{ch:[`${r}04-ErHuanXiLu-02.wav`,...x],en:[,`${r}04-ErHuanXiLu-02.wav`]}}},{id:"0205",nameCh:"\u8001\u5C6F",nameEn:"Lao Tun",voices:{[d.ArrivingSoon]:{ch:[S,`${r}05-LaoTun-01.wav`],en:[,`${r}05-LaoTun-01.wav`]},[d.Arrived]:{ch:[`${r}05-LaoTun-02.wav`,...x],en:[,`${r}05-LaoTun-02.wav`]}}},{id:"0206",nameCh:"\u516B\u91CC\u6865",nameEn:"Ba Li Qiao",voices:{[d.ArrivingSoon]:{ch:[S,`${r}06-BaLiQiao-01.wav`],en:[,`${r}06-BaLiQiao-01.wav`]},[d.Arrived]:{ch:[`${r}06-BaLiQiao-02.wav`,...x],en:[,`${r}06-BaLiQiao-02.wav`]}}},{id:"0207",nameCh:"\u76CA\u5EB7\u8DEF",nameEn:"Yi Kang Lu",voices:{[d.ArrivingSoon]:{ch:[S,`${r}07-YiKangLu-01.wav`,G],en:[,`${r}07-YiKangLu-01.wav`]},[d.Arrived]:{ch:[`${r}07-YiKangLu-02.wav`,...x],en:[,`${r}07-YiKangLu-02.wav`]}}},{id:"0208",nameCh:"\u6D4E\u5357\u7AD9\u5317",nameEn:"Jinan Railway<br/>Station North",voices:{[d.ArrivingSoon]:{ch:[S,`${r}08-JinanRailwayStationNorth-01.wav`],en:[,`${r}08-JinanRailwayStationNorth-01.wav`]},[d.Arrived]:{ch:[`${r}08-JinanRailwayStationNorth-02.wav`,...x],en:[,`${r}08-JinanRailwayStationNorth-02.wav`]}}},{id:"0209",nameCh:"\u6D4E\u6CFA\u8DEF",nameEn:"Ji Luo Lu",voices:{[d.ArrivingSoon]:{ch:[S,`${r}09-JiLuoLu-01.wav`],en:[,`${r}09-JiLuoLu-01.wav`]},[d.Arrived]:{ch:[`${r}09-JiLuoLu-02.wav`,...x],en:[,`${r}09-JiLuoLu-02.wav`]}}},{id:"0210",nameCh:"\u751F\u4EA7\u8DEF",nameEn:"Sheng Chan Lu",voices:{[d.ArrivingSoon]:{ch:[S,`${r}10-ShengChanLu-01.wav`,xe],en:[,`${r}10-ShengChanLu-01.wav`]},[d.Arrived]:{ch:[`${r}10-ShengChanLu-02.wav`,...x],en:[,`${r}10-ShengChanLu-02.wav`]}}},{id:"0211",nameCh:"\u5317\u56ED",nameEn:"Bei Yuan",voices:{[d.ArrivingSoon]:{ch:[S,`${r}11-BeiYuan-01.wav`],en:[,`${r}11-BeiYuan-01.wav`]},[d.Arrived]:{ch:[`${r}11-BeiYuan-02.wav`,...x],en:[,`${r}11-BeiYuan-02.wav`]}}},{id:"0212",nameCh:"\u5386\u5C71\u8DEF",nameEn:"Li Shan Lu",voices:{[d.ArrivingSoon]:{ch:[S,`${r}12-LiShanLu-01.wav`],en:[,`${r}12-LiShanLu-01.wav`]},[d.Arrived]:{ch:[`${r}12-LiShanLu-02.wav`,...x],en:[,`${r}12-LiShanLu-02.wav`]}}},{id:"0213",nameCh:"\u4E03\u91CC\u5821",nameEn:"Qi Li Pu",voices:{[d.ArrivingSoon]:{ch:[S,`${r}13-QiLiPu-01.wav`,G],en:[,`${r}13-QiLiPu-01.wav`]},[d.Arrived]:{ch:[`${r}13-QiLiPu-02.wav`,...x],en:[,`${r}13-QiLiPu-02.wav`]}}},{id:"0214",nameCh:"\u795D\u7538",nameEn:"Zhu Dian",voices:{[d.ArrivingSoon]:{ch:[S,`${r}14-ZhuDian-01.wav`],en:[,`${r}14-ZhuDian-01.wav`]},[d.Arrived]:{ch:[`${r}14-ZhuDian-02.wav`,...x],en:[,`${r}14-ZhuDian-02.wav`]}}},{id:"0215",nameCh:"\u516B\u6DA7\u5821",nameEn:"Ba Jian Pu",voices:{[d.ArrivingSoon]:{ch:[S,`${r}15-BaJianPu-01.wav`,{voiceUrl:`${r}15-BaJianPu-0101.wav`,subtitleConfig:{transfer:!0}}],en:[,,`${r}15-BaJianPu-01.wav`]},[d.Arrived]:{ch:[`${r}15-BaJianPu-02.wav`,...x],en:[,`${r}15-BaJianPu-02.wav`]}},transfers:[{id:"03",nameCh:{main:"3",suffix:"\u53F7\u7EBF"},nameEn:{prefix:"Line ",main:"3"},color:"#004B87"}]},{id:"0216",nameCh:"\u59DC\u5BB6\u5E84",nameEn:"Jiang Jia Zhuang",voices:{[d.ArrivingSoon]:{ch:[S,`${r}16-JiangJiaZhuang-01.wav`,xe],en:[,`${r}16-JiangJiaZhuang-01.wav`]},[d.Arrived]:{ch:[`${r}16-JiangJiaZhuang-02.wav`,...x],en:[,`${r}16-JiangJiaZhuang-02.wav`]}}},{id:"0217",nameCh:"\u51E4\u51F0\u8DEF",nameEn:"Feng Huang Lu",voices:{[d.ArrivingSoon]:{ch:[S,`${r}17-FengHuangLu-01.wav`],en:[,`${r}17-FengHuangLu-01.wav`]},[d.Arrived]:{ch:[`${r}17-FengHuangLu-02.wav`,...x],en:[,`${r}17-FengHuangLu-02.wav`]}}},{id:"0218",nameCh:"\u9C8D\u5C71",nameEn:"Bao Shan",voices:{[d.ArrivingSoon]:{ch:[S,`${r}18-BaoShan-01.wav`,G],en:[,`${r}18-BaoShan-01.wav`]},[d.Arrived]:{ch:[`${r}18-BaoShan-02.wav`,...x],en:[,`${r}18-BaoShan-02.wav`]}}},{id:"0219",nameCh:"\u5F6D\u5BB6\u5E84",nameEn:"Peng Jia Zhuang",voices:{[d.ArrivingSoon]:{ch:[S,{voiceUrl:`${r}19-PengJiaZhuang-01.wav`,subtitleConfig:{terminal:!0}}],en:[,{voiceUrl:`${r}19-PengJiaZhuang-01.wav`,subtitleConfig:{terminal:!0}}]},[d.Arrived]:{ch:[{voiceUrl:`${r}19-PengJiaZhuang-02.wav`,subtitleConfig:{terminal:!0}},...x],en:[,{voiceUrl:`${r}19-PengJiaZhuang-02.wav`,subtitleConfig:{terminal:!0}}]}}}]},Vi=["Wangfuzhuang","South Lashan","Lashan","West Erhuan Road","Laotun","Baliqiao","Yikang Road","North Jinan<br>Railway Station","Jiluo Road","Shengchan Road","Beiyuan","Lishan Road","Qilipu","Zhudian","Bajianpu","Jiangjiazhuang","Fenghuang Road","Baoshan","Pengjiazhuang"],Wt=Ut(R(E({},qt),{stations:qt.stations.map((n,e)=>R(E({},n),{nameEn:Vi[e]??n.nameEn}))}));var zi=(n,e)=>e.id;function Ji(n,e){if(n&1&&(l(0,"mat-option",6),m(1),c()),n&2){let s=e.$implicit;h("value",s),p(),w(s.ui.title)}}function Zi(n,e){if(n&1){let s=z();l(0,"div",3)(1,"span",4)(2,"mat-form-field")(3,"mat-label"),m(4,"Line"),c(),l(5,"mat-select",5),g("valueChange",function(i){A(s);let t=C();return $(t.onLineChange(i))}),H(6,Ji,2,2,"mat-option",6,zi),c()()()()}if(n&2){let s=e.$implicit,o=C();p(5),h("value",o.line)("disabled",s.editing),p(),V(o.lines)}}var Qt=(()=>{let e=class e{constructor(o){this.title=o,this.lines=Object.values(Ne),this.onLineChange(this.lines[0])}onLineChange(o){this.title.setTitle(o.ui.title||"Metro LCD"),this.line=o}};e.\u0275fac=function(i){return new(i||e)(f(ot))},e.\u0275cmp=v({type:e,selectors:[["lcd-outlet"]],features:[oe([F,B])],decls:4,vars:2,consts:[["customOperation",""],[3,"line"],[3,"customOperation"],[1,"lcd-operation-panel__category"],[1,"lcd-operation-panel__operation-item"],[3,"valueChange","value","disabled"],[3,"value"]],template:function(i,t){if(i&1&&(_(0,"lcd-container",1)(1,"lcd-operation-panel",2),I(2,Zi,8,2,"ng-template",null,0,re)),i&2){let a=ne(3);h("line",t.line),p(),h("customOperation",a)}},dependencies:[me,pe,Ct,ct,Rt,Vt]});let n=e;return n})();var Ui=[{path:"",component:Qt}],Yt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=P({type:e}),e.\u0275inj=T({imports:[Te.forChild(Ui),Te]});let n=e;return n})();var Go=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=P({type:e}),e.\u0275inj=T({imports:[mt,Tt,Yt]});let n=e;return n})();export{Go as LcdModule};
