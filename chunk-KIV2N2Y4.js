import{a as ge}from"./chunk-ONHLPZQ3.js";import{a as ae,b as Je,d as Re}from"./chunk-6YU6RO5A.js";import{$ as g,B as O,C as T,D as be,Fa as ke,H as we,J as Ee,K as Le,L as p,M as S,Na as fe,Q as E,R as f,S as I,T as V,U as A,V as $e,Va as H,Wa as Me,X as j,Xa as ne,Y as D,Z as s,_ as c,aa as K,ba as N,bb as ie,c as xe,ca as _,cb as oe,d as z,da as x,db as Be,ea as Pe,fa as Oe,fb as Fe,ga as Te,h as B,ha as X,i as U,ia as m,j as Ce,ja as y,jb as je,k as Q,ka as J,kb as De,lb as Ve,mb as Ne,n as Se,pa as Ie,q as W,qa as Ae,r as Y,ra as q,sa as $,ta as P,ua as ee,v as h,w as G,y as ye,ya as te,za as R}from"./chunk-JJTK2NSZ.js";import{a as w,b as F,d as dt}from"./chunk-2H7K6JAD.js";var Ze=function(t){return t.Default="default",t.Faster="faster",t}(Ze||{}),re=(()=>{let e=class e{constructor(){this.splitorIcon=ae,this.animating=!0,this.color="#000",this.speed=Ze.Default}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=h({type:e,selectors:[["lcd-splitor"]],hostAttrs:[1,"lcd-splitor"],hostVars:6,hostBindings:function(i,n){i&2&&(I("color",n.color),V("lcd-splitor--animate-faster",n.speed==="faster")("lcd-splitor--animating",n.animating))},inputs:{animating:"animating",color:"color",speed:"speed"},decls:5,vars:5,consts:[[3,"icon"]],template:function(i,n){i&1&&g(0,"fa-icon",0)(1,"fa-icon",0)(2,"fa-icon",0)(3,"fa-icon",0)(4,"fa-icon",0),i&2&&(f("icon",n.splitorIcon),p(),f("icon",n.splitorIcon),p(),f("icon",n.splitorIcon),p(),f("icon",n.splitorIcon),p(),f("icon",n.splitorIcon))},dependencies:[H],styles:[`.lcd-splitor{display:flex;flex-direction:row}.lcd-splitor--animating>:nth-child(1){animation:1.5s .25s infinite splitor-animation}.lcd-splitor--animating>:nth-child(2){animation:1.5s .5s infinite splitor-animation}.lcd-splitor--animating>:nth-child(3){animation:1.5s .75s infinite splitor-animation}.lcd-splitor--animating>:nth-child(4){animation:1.5s 1s infinite splitor-animation}.lcd-splitor--animating>:nth-child(5){animation:1.5s 1.25s infinite splitor-animation}.lcd-splitor--animate-faster>:nth-child(n){animation-duration:.85s}@keyframes splitor-animation{0%{opacity:0}to{opacity:1}}
`],encapsulation:2,changeDetection:0});let t=e;return t})();var d=function(t){return t.NotInService="not-in-service",t.OnTheWay="on-the-way",t.ArrivingSoon="arriving-soon",t.Arrived="arrived",t.Past="past",t}(d||{});var k=(()=>{let e=class e{constructor(){this.running=new z(null),this.playlist$=this.runningState$.pipe(U(o=>o!=null),B(o=>{let{current:i,next:n}=o,r;switch(i.status!==d.Past?r=i:r=n,r.status){case d.ArrivingSoon:case d.Arrived:return r.voices?.[r.status]??{};default:return{}}}),B(o=>{if(Object.keys(o).length===0)return[];let{ch:i,en:n}=o,r=[];for(let u=0;u<i.length;u++){let L=i[u],ve=n[u];L&&r.push(w({lang:"ch"},L)),ve&&r.push(w({lang:"en"},ve))}return n.length>i.length&&r.push(...n.slice(i.length).filter(u=>u?.voiceUrl?.length>0)),r}),Q(1))}get runningState$(){return this.running.asObservable()}init(o,i){let n=w({},o);if(n.stations=o.stations.map(r=>F(w({},r),{status:d.OnTheWay,disabled:i?.disabledStations?.includes?.(r.id)})),o.direction==="down"&&(n.stations=n.stations.reverse()),n.from=n.stations[0],i.from){let r=n.stations.findIndex(u=>u.id===i.from);r!==-1&&(n.stations.slice(0,r).forEach(u=>u.status=d.NotInService),n.from=n.stations[r])}if(n.to=n.stations.at(-1),i.to){let r=n.stations.findIndex(u=>u.id===i.to);r&&(n.stations.slice(r+1).forEach(u=>u.status=d.NotInService),n.to=n.stations[r])}return this.runningLine=n,this.setStartStation(),this.runningLine}getNextStation(o){let{stations:i}=this.runningLine,n=o+1;if(n===i.length)return null;let r=i[n];return r.disabled?this.getNextStation(n):{index:n,station:r}}setStartStation(){let{from:o,stations:i}=this.runningLine;for(let n=0;n<i.length;n++){let r=i[n];if(o===r){o.status=d.ArrivingSoon;let u=this.getNextStation(n);this.running.next({current:Object.assign(o),next:u?Object.assign(u):null});break}}}next(){let{stations:o}=this.runningLine,i=o.findIndex(L=>L.status===d.ArrivingSoon||L.status===d.Arrived);if(i===-1)return;let n=o[i],{index:r,station:u}=this.getNextStation(i)??{};switch(n.status){case d.ArrivingSoon:n.status=d.Arrived;break;case d.Arrived:if(n.id===this.runningLine.to.id)return;if(n.status=d.Past,u){if(typeof r=="number"&&r>i+1)for(let L=i+1;L<r;L++)o[L].status=d.Past;u.status=d.ArrivingSoon}break}this.running.next({current:Object.assign(n),next:u?Object.assign(u):null})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})();function se(t){if(!t||!t.main)return"";let{prefix:e,main:l,suffix:o}=t;return[e,l,o].filter(i=>i).join("")}var ce=(()=>{let e=class e{constructor(){this.transform=se}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=ye({name:"lineName",type:e,pure:!0});let t=e;return t})();function pt(t,e){if(t&1&&(s(0,"div",15)(1,"span",16),m(2,"\u4E0B\u4E00\u7AD9"),c(),s(3,"span",17),m(4,"Next"),c()(),s(5,"div",18)(6,"span",16),m(7),c(),s(8,"span",17),m(9),$(10,"stripNewLine"),c()()),t&2){let l=x();p(7),y(l.nameCh),p(2),J(" ",P(10,2,l.nameEn)," ")}}function mt(t,e){if(t&1&&(s(0,"div",15)(1,"span",16),m(2,"\u5230\u8FBE\u7AD9"),c(),s(3,"span",17),m(4,"Arrived"),c()(),s(5,"div",18)(6,"span",16),m(7),c(),s(8,"span",17),m(9),$(10,"stripNewLine"),c()()),t&2){let l=x();p(7),y(l.nameCh),p(2),J(" ",P(10,2,l.nameEn)," ")}}function ut(t,e){if(t&1&&E(0,pt,11,4)(1,mt,11,4),t&2){let l=e;A(0,l.status==="arriving-soon"?0:l.status==="arrived"?1:-1)}}var Qe=(()=>{let e=class e{constructor(o){this.runningLineService=o,this.splitorIcon=ae,this.running$=o.runningState$.pipe(U(i=>i!=null),B(i=>{let{current:n}=i;return n.status!==d.Past?n:i.next}))}};e.\u0275fac=function(i){return new(i||e)(S(k))},e.\u0275cmp=h({type:e,selectors:[["lcd-header"]],inputs:{line:"line"},decls:28,vars:12,consts:[[1,"lcd-header","lcd-header--grid"],[1,"lcd-header__logo-container"],["src","assets/logo.png","alt","Jinan Metro Logo",1,"lcd-header__logo"],[1,"lcd-header__line-number"],[1,"lcd-header__line-number__text"],[1,"lcd-header__line-number__text__ch"],[1,"lcd-header__line-number__text__en"],[1,"lcd-header__station"],[1,"lcd-header__dest"],[1,"lcd-header__dest__a"],[1,"lcd-header__dest__cn"],[1,"lcd-header__dest__en"],[1,"lcd-header__dest__splitor"],["color","var(--foreground-color)"],[1,"lcd-header__dest__b"],[1,"lcd-header__station__prefix"],[1,"lcd-header__station__cn"],[1,"lcd-header__station__en"],[1,"lcd-header__station__station-name"]],template:function(i,n){if(i&1&&(s(0,"div",0)(1,"div",1),g(2,"img",2),c(),s(3,"div",3)(4,"span"),m(5),c(),s(6,"div",4)(7,"span",5),m(8),c(),s(9,"span",6),m(10),$(11,"lineName"),c()()(),s(12,"div",7),E(13,ut,2,1),$(14,"async"),c(),s(15,"div",8)(16,"div",9)(17,"span",10),m(18),c(),s(19,"span",11),m(20),c()(),s(21,"div",12),g(22,"lcd-splitor",13),c(),s(23,"div",14)(24,"span",10),m(25),c(),s(26,"span",11),m(27),c()()()()),i&2){let r;p(5),y(n.line.nameCh.main),p(3),J(" ",n.line.nameCh.suffix," "),p(2),J(" ",P(11,8,n.line.nameEn)," "),p(3),A(13,(r=P(14,10,n.running$))?13:-1,r),p(5),y(n.line.from.nameCh),p(2),y(n.line.from.nameEn),p(5),y(n.line.to.nameCh),p(2),y(n.line.to.nameEn)}},dependencies:[re,R,Ve,ce],styles:[".lcd-header[_ngcontent-%COMP%]{padding:8px 64px 8px 72px;height:96px;display:flex;flex-direction:row;background-color:var(--line-color)}.lcd-header__logo-container[_ngcontent-%COMP%]{flex:0 0;display:flex;flex-direction:column;justify-content:center;padding:8px;background-color:#fff;border-radius:8px}.lcd-header__logo[_ngcontent-%COMP%]{height:100%}.lcd-header__line-number[_ngcontent-%COMP%]{flex:0 0;margin-left:32px;display:flex;flex-direction:row;word-break:keep-all;white-space:nowrap;align-items:center;color:var(--foreground-color)}.lcd-header__line-number[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-weight:700;font-size:98px;line-height:96px}.lcd-header__line-number__text[_ngcontent-%COMP%]{margin-left:8px;display:flex;flex-direction:column;justify-content:center}.lcd-header__line-number__text__ch[_ngcontent-%COMP%]{font-size:48px;line-height:1.2}.lcd-header__line-number__text__en[_ngcontent-%COMP%]{font-size:28px}.lcd-header__station[_ngcontent-%COMP%]{flex:1 1;margin:-8px 40px;min-width:34.5834%;display:flex;flex-direction:row;align-items:center;justify-content:space-evenly;border-radius:0 0 8px 8px;background-color:#fff;box-shadow:2px 2px 5px #000000a6}.lcd-header__station__prefix[_ngcontent-%COMP%], .lcd-header__station__station-name[_ngcontent-%COMP%]{padding:0 40px;display:flex;flex-direction:column;word-break:keep-all;white-space:nowrap;text-align:center}.lcd-header__station__cn[_ngcontent-%COMP%]{font-weight:700;font-size:48px;line-height:1.2}.lcd-header__station__en[_ngcontent-%COMP%]{font-size:28px}.lcd-header__dest[_ngcontent-%COMP%]{flex:1 0;display:flex;flex-direction:row;align-items:center;justify-content:flex-end;color:var(--foreground-color)}.lcd-header__dest__splitor[_ngcontent-%COMP%]{margin:0 24px;font-size:48px}.lcd-header__dest__cn[_ngcontent-%COMP%]{font-size:48px;line-height:1.2}.lcd-header__dest__en[_ngcontent-%COMP%]{font-size:28px}.lcd-header__dest__a[_ngcontent-%COMP%], .lcd-header__dest__b[_ngcontent-%COMP%]{display:flex;flex-direction:column;word-break:keep-all;white-space:nowrap;text-align:center}.lcd-header--grid[_ngcontent-%COMP%]{display:grid;grid-template-rows:100%;grid-template-columns:repeat(2,1fr) repeat(2,3fr);column-gap:32px}.lcd-header--grid[_ngcontent-%COMP%]   .lcd-header__line-number[_ngcontent-%COMP%]{margin-left:0}.lcd-header--grid[_ngcontent-%COMP%]   .lcd-header__station[_ngcontent-%COMP%]{justify-self:stretch;margin-right:0;margin-left:0}"]});let t=e;return t})();var M=(()=>{let e=class e{get config$(){return this.configSubject.asObservable()}get config(){return this.configSubject.getValue()}constructor(){this.configSubject=new z({nextOnAudioEnded:!0,nextGap:1e3,disabledStations:[]})}update(o){this.configSubject.next(Object.assign({},this.configSubject.value,o))}reset(o={}){this.configSubject.next(w({nextOnAudioEnded:!0,nextGap:1e3,disabledStations:[]},o))}toggleStationDisabled(o){let{disabledStations:i}=this.config,n;i.includes(o)?n=i.filter(r=>r!==o):n=[...i,o],this.update({disabledStations:n})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})();var We=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=h({type:e,selectors:[["lcd-transfer-icon"]],hostVars:4,hostBindings:function(i,n){i&2&&I("--primary-color",n.mainColor)("--secondary-color",n.transferColor||n.mainColor)},inputs:{mainColor:"mainColor",transferColor:"transferColor"},decls:3,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"svg-inline--fa"],["d","M16 312v7.6 .7V440c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2l41.6-41.6c87.6 86.5 228.7 86.2 315.8-1c24.4-24.4 42.1-53.1 52.9-83.7c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.2 62.2-162.7 62.5-225.3 1L185 329c6.9-6.9 8.9-17.2 5.2-26.2s-12.5-14.8-22.2-14.8H48.4h-.7H40c-13.3 0-24 10.7-24 24z",2,"fill","var(--primary-color)"],["d","M142.9 142.9c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H463.5c0 0 0 0 0 0H472c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5c7.7-21.8 20.2-42.3 37.8-59.8z",2,"fill","var(--secondary-color)"]],template:function(i,n){i&1&&(be(),s(0,"svg",0),g(1,"path",1)(2,"path",2),c())},encapsulation:2,changeDetection:0});let t=e;return t})();var Ye=(()=>{let e=class e{constructor(o){this.containerConfigService=o}setFrom(){this.containerConfigService.update({from:this.station.id})}toggleEnabled(){this.containerConfigService.toggleStationDisabled(this.station.id)}setTo(){if(this.line){let{from:o,stations:i}=this.line,n=i.findIndex(u=>u.id===o.id),r=i.findIndex(u=>u.id===this.station.id);if(r===n){alert("\u8D77\u59CB\u7AD9\u548C\u7EC8\u70B9\u7AD9\u4E0D\u80FD\u4E3A\u540C\u4E00\u7AD9");return}else if(r<n){alert("\u7EC8\u70B9\u7AD9\u4E0D\u80FD\u5728\u8D77\u59CB\u7AD9\u524D");return}}this.containerConfigService.update({to:this.station.id})}};e.\u0275fac=function(i){return new(i||e)(S(M))},e.\u0275cmp=h({type:e,selectors:[["lcd-station-toolbar"]],hostAttrs:[1,"lcd-station__toolbar"],inputs:{line:"line",station:"station"},decls:6,vars:1,consts:[[1,"lcd-station__toolbar-item",3,"click"]],template:function(i,n){i&1&&(s(0,"div",0),_("click",function(){return n.setFrom()}),m(1,` \u8D77
`),c(),s(2,"div",0),_("click",function(){return n.toggleEnabled()}),m(3),c(),s(4,"div",0),_("click",function(){return n.setTo()}),m(5,` \u7EC8
`),c()),i&2&&(p(3),J(" ",n.station.disabled?"\u542F":"\u7981",`
`))},styles:[`.lcd-station__toolbar{position:absolute;top:48px;right:0;display:flex;flex-direction:row;padding:4px 0;background-color:#fff;border-radius:4px;box-shadow:0 2px 10px #0006;transform:translate(calc(50% - 20px));display:none}.lcd-station--showing-editing-bar .lcd-station__toolbar{display:flex}.lcd-station__toolbar-item{margin:0 4px;display:flex;flex-direction:column;align-items:center;width:24px;height:24px;border:1px solid rgba(0,0,0,.4);border-radius:50%;cursor:pointer}.lcd-station__toolbar-item:hover{box-shadow:2px 2px 7px -3px #0006}
`],encapsulation:2,changeDetection:0});let t=e;return t})();var _t=(t,e)=>e.id;function vt(t,e){if(t&1&&g(0,"lcd-transfer-icon",4),t&2){let l=x();f("transferColor",l.station.transfers==null||l.station.transfers[0]==null?null:l.station.transfers[0].color)}}function xt(t,e){if(t&1){let l=N();s(0,"fa-icon",11),_("click",function(){O(l);let i=x();return T(i.toggleEditingBar())}),c()}if(t&2){let l=x();f("icon",l.settingIcon)}}function Ct(t,e){t&1&&(s(0,"span",8),m(1,"(\u6682\u7F13\u5F00\u901A)"),c())}function St(t,e){if(t&1&&(s(0,"div",13)(1,"span",14),m(2),$(3,"lineName"),c(),s(4,"span",15),m(5),$(6,"lineName"),c()()),t&2){let l=e.$implicit;I("--transfer-line-color",l.color),V("lcd-station__transfer--disabled",l.disabled),p(2),y(P(3,6,l.nameCh)),p(3),y(P(6,8,l.nameEn))}}function yt(t,e){if(t&1&&(s(0,"div",9),j(1,St,7,10,"div",12,_t),c()),t&2){let l=x();p(),D(l.station.transfers)}}function bt(t,e){if(t&1&&g(0,"lcd-station-toolbar",10),t&2){let l=x();f("line",l.line)("station",l.station)}}var Ge=(()=>{let e=class e{get transferrable(){return this.station?.transfers?.some(o=>!o.disabled)??!1}get config(){return this.containerConfigService.config}constructor(o){this.containerConfigService=o,this.settingIcon=Je,this.StationStatus=d,this.showEditingBar=!1}toggleEditingBar(){this.showEditingBar=!this.showEditingBar}clickOutside(){this.showEditingBar=!1}};e.\u0275fac=function(i){return new(i||e)(S(M))},e.\u0275cmp=h({type:e,selectors:[["lcd-station"]],inputs:{line:"line",station:"station"},decls:13,vars:19,consts:[[1,"lcd-station",3,"clickOutside","attachOutsideOnClick"],[1,"lcd-station__line"],["speed","faster",3,"animating","color"],[1,"lcd-station__point"],["mainColor","var(--line-color)",3,"transferColor"],[1,"lcd-station__info"],[1,"lcd-station__name__ch"],[1,"lcd-station__name__en",3,"innerHTML"],[1,"lcd-station__disabled"],[1,"lcd-station__transfers"],[3,"line","station"],[1,"lcd-station__setting-icon",3,"click","icon"],[1,"lcd-station__transfer",3,"lcd-station__transfer--disabled","--transfer-line-color"],[1,"lcd-station__transfer"],[1,"lcd-station__transfer__line__ch"],[1,"lcd-station__transfer__line__en"]],template:function(i,n){i&1&&(s(0,"div",0),_("clickOutside",function(){return n.clickOutside()}),s(1,"div",1),g(2,"lcd-splitor",2),c(),s(3,"div",3),E(4,vt,1,1,"lcd-transfer-icon",4)(5,xt,1,1),c(),s(6,"div",5)(7,"span",6),m(8),c(),g(9,"span",7),E(10,Ct,2,0,"span",8)(11,yt,3,0,"div",9),c(),E(12,bt,1,2,"lcd-station-toolbar",10),c()),i&2&&(V("lcd-station--transferrable",n.transferrable)("lcd-station--disabled",n.station.disabled)("lcd-station--arriving-soon",n.station.status===n.StationStatus.ArrivingSoon)("lcd-station--past",n.station.status===n.StationStatus.Past||n.station.status===n.StationStatus.NotInService)("lcd-station--showing-editing-bar",n.showEditingBar),f("attachOutsideOnClick",!0),p(2),f("animating",n.station.status==="arriving-soon")("color",n.station.status==="arriving-soon"?"red":"white"),p(2),A(4,n.transferrable?4:n.config.editing?5:-1),p(4),y(n.station.nameCh),p(),f("innerHTML",n.station.nameEn,Ee),p(),A(10,n.station.disabled?10:-1),p(),A(11,n.station.transfers?11:-1),p(),A(12,n.config.editing?12:-1))},dependencies:[H,De,re,We,Ye,ce],styles:[`.lcd-station{position:relative;display:flex;flex-direction:row;align-items:center}.lcd-station--disabled{color:#e9e9e9}.lcd-station--disabled :not(.lcd-station__line){filter:grayscale(100%)}.lcd-station--past{color:#e9e9e9}.lcd-station--past:not(.just-priority){filter:grayscale(100%)}.lcd-station__point{position:relative;width:40px;height:40px;border:4px solid var(--line-color);border-radius:50%;background-color:#fff;text-align:center;font-size:24px;line-height:32px;z-index:30}.lcd-station__setting-icon{display:none}.lcd-station--transferrable:not(.lcd-station--disabled) .lcd-station__point{animation:1.75s ease-in infinite transferrable-station}.lcd-station--arriving-soon .lcd-station__point{background-color:var(--line-color)}.lcd-station__line{flex-grow:1;margin-inline:-4px;height:24px;background-color:var(--line-color);z-index:-1;text-align:center}.lcd-station__line lcd-splitor{display:inline;font-size:24px;line-height:24px;z-index:20}.lcd-station__line lcd-splitor :nth-child(n+4){display:none}.lcd-station__info{position:absolute;top:48px;right:0;display:flex;flex-direction:column;word-break:keep-all;white-space:nowrap;transform:translate(calc(50% - 20px));text-align:center}.lcd-station:not(.lcd-station--past,.lcd-station--disabled) .lcd-station__name__ch,.lcd-station:not(.lcd-station--past,.lcd-station--disabled) .lcd-station__name__en{text-shadow:1px 1px 1px rgba(0,0,0,.1)}.lcd-station__transfers{align-self:center}.lcd-station__transfer{margin:4px 0;padding:4px 16px;display:flex;flex-direction:column;word-break:keep-all;white-space:nowrap;border-radius:8px;color:#fff;background-color:var(--transfer-line-color)}.lcd-station__transfer--disabled,.lcd-station--disabled .lcd-station__transfer{background-color:#e9e9e9}.lcd-station:hover .lcd-station__setting-icon,.lcd-station--showing-editing-bar .lcd-station__setting-icon{display:initial}lcd-station:first-child .lcd-station__line{display:none}lcd-station:nth-child(2n) .lcd-station__info{transform:translate(calc(50% - 20px),calc(-56px - 100%))}lcd-station:nth-child(2n) .lcd-station__info .lcd-station__transfers{order:-1}@keyframes transferrable-station{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`],encapsulation:2});let t=e;return t})();var Et=(t,e)=>e.id;function Lt(t,e){if(t&1&&g(0,"lcd-station",2),t&2){let l=e.$implicit,o=x();f("line",o.line)("station",l)}}var Ke=(()=>{let e=class e{get stations(){return this.line?.stations??[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=h({type:e,selectors:[["lcd-route"]],hostAttrs:[1,"lcd-route"],hostVars:2,hostBindings:function(i,n){i&2&&I("--rest-station-count",n.stations.length-1)},inputs:{line:"line"},decls:4,vars:0,consts:[[1,"lcd-route__station-container"],[1,"lcd-route__stations"],[3,"line","station"]],template:function(i,n){i&1&&(s(0,"div",0)(1,"div",1),j(2,Lt,1,2,"lcd-station",2,Et),c()()),i&2&&(p(2),D(n.stations))},dependencies:[Ge],styles:[".lcd-route__station-container[_ngcontent-%COMP%]{padding-top:128px;padding-bottom:128px}.lcd-route__stations[_ngcontent-%COMP%]{display:grid;grid-template-columns:40px repeat(var(--rest-station-count),1fr);align-items:start}"]});let t=e;return t})();function Pt(t,e){if(t&1&&(s(0,"div"),m(1),c()),t&2){let l=e.$implicit;p(),y(l)}}var Xe=(()=>{let e=class e{constructor(o){this.runningLineService=o,this.subtitle$=this.runningLineService.playlist$.pipe(B(i=>{let n=[];for(let r=0;r<i.length;r++){let u=i[r];if(r===0){n.push([u.subtitle]);continue}let L=i[r-1];u.lang===L.lang?n.at(-1)?.push(u.subtitle):n.push([u.subtitle])}return n.map(r=>r.join(""))}))}};e.\u0275fac=function(i){return new(i||e)(S(k))},e.\u0275cmp=h({type:e,selectors:[["lcd-subtitle"]],decls:3,vars:2,template:function(i,n){i&1&&(j(0,Pt,2,1,"div",null,$e),$(2,"async")),i&2&&D(P(2,0,n.subtitle$))},dependencies:[R],styles:["[_nghost-%COMP%]{font-size:24px;font-weight:500;line-height:1.5}"]});let t=e;return t})();var qe=(()=>{let e=class e{get line(){return this._line}set line(o){this._line=o,this.lineSubject.next(o)}get lineColor(){return this.runningLine.color}get config(){return this.containerConfigService.config}constructor(o,i){this.runningLineService=o,this.containerConfigService=i,this.lineSubject=new xe,this.lineSubject.pipe(Se(n=>{this.containerConfigService.reset({disabledStations:n.stations.filter(r=>r.disabled).map(r=>r.id)})}),Ce(this.containerConfigService.config$)).subscribe(([n,r])=>{this.runningLine=this.runningLineService.init(n,r)})}};e.\u0275fac=function(i){return new(i||e)(S(k),S(M))},e.\u0275cmp=h({type:e,selectors:[["lcd-container"]],hostVars:4,hostBindings:function(i,n){i&2&&I("--foreground-color",n.line.ui.foregroundColor||"#000")("--line-color",n.lineColor)},inputs:{line:"line"},decls:4,vars:2,consts:[[3,"line"],[1,"lcd-wrapper"]],template:function(i,n){i&1&&(g(0,"lcd-header",0),s(1,"div",1),g(2,"lcd-route",0)(3,"lcd-subtitle"),c()),i&2&&(f("line",n.runningLine),p(2),f("line",n.runningLine))},dependencies:[Qe,Ke,Xe],styles:["[_nghost-%COMP%]{display:block;min-width:1920px;font-family:PingFang SC,Hei}.lcd-wrapper[_ngcontent-%COMP%]{padding-right:64px;padding-left:64px}"]});let t=e;return t})();var At=["audio"],kt=t=>({$implicit:t});function Mt(t,e){t&1&&K(0)}function Bt(t,e){if(t&1){let l=N();s(0,"button",4),_("click",function(){let i=O(l).$implicit;return T(i.play())}),m(1,"Play"),c(),s(2,"button",4),_("click",function(){let i=O(l).$implicit;return T(i.pause())}),m(3,"Pause"),c(),s(4,"button",4),_("click",function(){let i=O(l).$implicit;return T(i.next())}),m(5,"Next"),c()}if(t&2){let l=x();f("disabled",l.disabled),p(2),f("disabled",l.disabled),p(2),f("disabled",l.disabled)}}var et=(()=>{let e=class e{constructor(){this.disabled=!1,this.ended=new we,this.autoplay=!1,this.playingIndex=-1}set playlist(o){this._playlist=[...o],this.playingIndex=-1,this.next()}get playing(){return this._playlist?.[this.playingIndex]}get context(){return{play:this.play.bind(this),pause:this.pause.bind(this),next:this.next.bind(this)}}ngAfterViewInit(){this.playing&&this.playingIndex!==0&&this.audio.nativeElement.play()}play(){this.autoplay=!0,this.audio?.nativeElement?.play?.()}pause(){this.audio?.nativeElement?.pause?.()}next(){let o=this.playingIndex+1;return o===this._playlist?.length?!1:(this.playingIndex=o,setTimeout(()=>this.audio?.nativeElement?.load?.()),!0)}audioLoaded(o){let i=o.target;(this.autoplay||this.playingIndex!==0)&&i.play()}audioEnded(){this.next()||this.ended.emit()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=h({type:e,selectors:[["lcd-player"]],viewQuery:function(i,n){if(i&1&&Pe(At,5),i&2){let r;Oe(r=Te())&&(n.audio=r.first)}},inputs:{controls:"controls",disabled:"disabled",playlist:"playlist"},outputs:{ended:"ended"},decls:5,vars:5,consts:[["audio",""],["defaultControls",""],[3,"canplaythrough","ended","src"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["mat-stroked-button","",3,"click","disabled"]],template:function(i,n){if(i&1){let r=N();s(0,"audio",2,0),_("canplaythrough",function(L){return O(r),T(n.audioLoaded(L))})("ended",function(){return O(r),T(n.audioEnded())}),c(),E(2,Mt,1,0,"ng-container",3)(3,Bt,6,3,"ng-template",null,1,ee)}if(i&2){let r=X(4);f("src",n.playing,Le),p(2),f("ngTemplateOutlet",n.controls||r)("ngTemplateOutletContext",q(3,kt,n.context))}},dependencies:[te,ne]});let t=e;return t})();var Dt=()=>[],Vt=t=>({$implicit:t});function Nt(t,e){t&1&&K(0)}function Jt(t,e){if(t&1&&E(0,Nt,1,0,"ng-container",18),t&2){let l=x();f("ngTemplateOutlet",l.customOperation)("ngTemplateOutletContext",q(2,Vt,l.config))}}var tt=(()=>{let e=class e{get config(){return this.containerConfigService.config}constructor(o,i){this.runningLineService=o,this.containerConfigService=i,this.collapseIcon=Re,this.collapsed=!1,this.playlist$=this.runningLineService.playlist$.pipe(B(n=>n.map(r=>r?.voiceUrl)),Q(1))}togglePanel(){this.collapsed=!this.collapsed}moveNext(){this.runningLineService.next()}onPlayerEnded(){this.config.nextOnAudioEnded&&setTimeout(()=>this.moveNext(),this.config.nextGap)}_updateConfig(o,i){this.containerConfigService.update({[o]:i})}updateConfig(o,i){this._updateConfig(o,i.target.value)}updateBooleanConfig(o,i){this._updateConfig(o,i.checked)}};e.\u0275fac=function(i){return new(i||e)(S(k),S(M))},e.\u0275cmp=h({type:e,selectors:[["lcd-operation-panel"]],hostAttrs:[1,"lcd-operation-panel"],hostVars:2,hostBindings:function(i,n){i&2&&V("lcd-operation-panel--collapsed",n.collapsed)},inputs:{customOperation:"customOperation"},decls:44,vars:11,consts:[[1,"lcd-operation-panel__header"],[1,"lcd-operation-panel__footer"],["href","https://space.bilibili.com/4946860","target","_blank","referrerpolicy","no-referrer",2,"text-decoration","none"],["href","https://github.com/RVC-Boss/GPT-SoVITS","target","_blank","referrerpolicy","no-referrer"],["href","https://angular.io","target","_blank","referrerpolicy","no-referrer"],["href","https://fontawesome.com","target","_blank","referrerpolicy","no-referrer"],[1,"lcd-operation-panel__toggle",3,"click"],[3,"icon"],[1,"lcd-operation-panel__content"],[1,"lcd-operation-panel__category"],[1,"lcd-operation-panel__category__title"],[1,"lcd-operation-panel__operation-item"],["mat-stroked-button","",3,"click","disabled"],[3,"change","checked"],["subscriptSizing","dynamic"],["matInput","","type","number","min","0","step","100",2,"width","80px",3,"change","value"],["type","checkbox",3,"change","checked"],[3,"ended","playlist","disabled"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,n){i&1&&(s(0,"div",0)(1,"div",1),m(2," \u4F5C\u8005\uFF1A\u3010bilibili\u3011"),s(3,"a",2),m(4,"\u8F71\u8F98\u662F\u795E\u68CD"),c(),m(5,"\xA0\xA0Powered by "),s(6,"a",3),m(7,"GPT-SoVITS"),c(),m(8,", "),s(9,"a",4),m(10,"Angular"),c(),m(11,", "),s(12,"a",5),m(13,"FontAwesome"),c(),m(14,"\xA0\xA0\u8BF7\u52FF\u8F6C\u8F7D "),c(),s(15,"div",6),_("click",function(){return n.togglePanel()}),g(16,"fa-icon",7),c()(),s(17,"div",8),E(18,Jt,1,4,"ng-container"),s(19,"div",9)(20,"div",10),m(21,"LCD Control"),c(),s(22,"span",11)(23,"button",12),_("click",function(){return n.moveNext()}),m(24,"Next"),c()(),g(25,"br"),s(26,"span",11)(27,"mat-slide-toggle",13),_("change",function(u){return n.updateBooleanConfig("nextOnAudioEnded",u)}),m(28,"Move Next When Audio Ended"),c()(),s(29,"span",11)(30,"mat-form-field",14)(31,"mat-label"),m(32,"Move Gap Time(ms):"),c(),s(33,"input",15),_("change",function(u){return n.updateConfig("nextGap",u)}),c()()(),g(34,"br"),s(35,"span",11)(36,"mat-slide-toggle",16),_("change",function(u){return n.updateBooleanConfig("editing",u)}),m(37,"Edit Station Mode (\u26A0Will Lose Current Running Status)"),c()()(),s(38,"div",9)(39,"div",10),m(40,"Voice Control"),c(),s(41,"div",11)(42,"lcd-player",17),$(43,"async"),_("ended",function(){return n.onPlayerEnded()}),c()()()()),i&2&&(p(16),f("icon",n.collapseIcon),p(2),A(18,n.customOperation?18:-1),p(5),f("disabled",n.config.editing),p(4),f("checked",n.config.nextOnAudioEnded),p(6),f("value",n.config.nextGap),p(3),f("checked",n.config.editing),p(6),f("playlist",P(43,8,n.playlist$)||Ae(10,Dt))("disabled",n.config.editing))},dependencies:[te,H,ne,oe,ie,Be,je,et,R],styles:[`.lcd-operation-panel{position:fixed;right:0;bottom:0;left:0;display:flex;flex-direction:column;padding:0 32px 32px;height:256px;transition:height .25s ease-in-out;box-shadow:0 0 10px #0006}.lcd-operation-panel--collapsed{padding:0;min-height:initial;height:50.4px}.lcd-operation-panel--collapsed .lcd-operation-panel__toggle{transform:rotate(-180deg)}.lcd-operation-panel--collapsed .lcd-operation-panel__footer{padding-top:16.2px;padding-bottom:16.2px}.lcd-operation-panel--collapsed>:not(.lcd-operation-panel__header){display:none}.lcd-operation-panel__content{display:flex;flex-direction:row;column-gap:32px;padding:16px 0}.lcd-operation-panel__category{font-weight:500}.lcd-operation-panel__category__title{margin-bottom:8px}.lcd-operation-panel__footer{padding:7px 0;color:#e9e9e9;line-height:18px;text-align:center}.lcd-operation-panel__footer a:active,.lcd-operation-panel__footer a:visited{color:inherit}.lcd-operation-panel__footer a:hover{color:var(--line-color)}.lcd-operation-panel__toggle{position:absolute;top:0;right:0;padding:16px;cursor:pointer;transition:transform .25s ease-in}.lcd-operation-panel button+button,.lcd-operation-panel__operation-item+.lcd-operation-panel__operation-item{margin-left:8px}
`],encapsulation:2});let t=e;return t})();var _e={};dt(_e,{Line2:()=>lt});var Z={voiceUrl:"common/TrainRunning.wav",subtitle:"\u5217\u8F66\u8FD0\u884C\u8BF7\u7AD9\u7A33\u6276\u597D\uFF0C\u4E0D\u8981\u770B\u624B\u673A\uFF0C\u6CE8\u610F\u811A\u4E0B\u5B89\u5168\u3002"},pe={voiceUrl:"common/HeartSeat.wav",subtitle:"\u8BF7\u628A\u7231\u5FC3\u4E13\u5EA7\u7559\u7ED9\u6709\u9700\u8981\u7684\u4E58\u5BA2\u3002"};var ue=function(t){return t.Left="left",t.Right="right",t.Both="both",t}(ue||{}),me={[ue.Left]:{ch:"\u5DE6\u8FB9",en:"the left"},[ue.Right]:{ch:"\u53F3\u8FB9",en:"the right"},[ue.Both]:{ch:"\u53CC\u4FA7",en:"both sides"}};function nt(t,e){return Array.isArray(t)?e==="ch"?`\u53EF\u6362\u4E58${t.map(l=>se(l.nameCh).toLowerCase()).join("\uFF0C")}\uFF0C\u8BF7\u6CE8\u610F\u6362\u4E58\u5217\u8F66\u7684\u9996\u672B\u73ED\u8F66\u65F6\u95F4\u3002`:`You can transfer to ${t.map(l=>se(l.nameEn).toLowerCase()).join(", ")}. `:""}var Ht={[d.ArrivingSoon]:{ch:(t,{side:e="left",terminal:l,transfer:o}={})=>o?nt(t.transfers,"ch"):`\u4E0B\u4E00\u7AD9${l?"\u7EC8\u70B9\u7AD9":""}${t.nameCh}\uFF0C\u5F00${me[e].ch}\u95E8\u3002`,en:(t,{side:e="left",terminal:l}={})=>`Next station ${l?"is the terminal station ":""}${t.nameEn.replace("<br>"," ")}. ${nt(t.transfers,"en")}Doors will open on ${me[e].en}.`},[d.Arrived]:{ch:(t,{side:e="left",terminal:l}={})=>`${l?"\u7EC8\u70B9\u7AD9":""}${t.nameCh}\u5230\u4E86\uFF0C\u5F00${me[e].ch}\u95E8\u3002`,en:(t,{side:e="left",terminal:l}={})=>`We are now at ${l?"the terminal station ":""}${t.nameEn.replace("<br>"," ")}. Doors will open on ${me[e].en}.`}},it=Ht;function ot(t,e){return t&&Object.fromEntries(Object.entries(t).map(([l,o])=>[l,Object.fromEntries(Object.entries(o).map(([i,n])=>[i,n.map((r,u)=>e({voice:r,status:l,lang:i,index:u}))]))]))}function at(t){return F(w({},t),{stations:t.stations.map(e=>e.voices?F(w({},e),{voices:ot(e.voices,({voice:l,status:o,lang:i})=>{let n;if(l)typeof l=="string"?n={voiceUrl:l}:n=w({},l);else return l;return n=n,i&&i in ge.VoicesPrefix&&(n.voiceUrl=ge.VoicesPrefix[i]+n.voiceUrl),n.subtitle||(n.subtitle=it[o]?.[i]?.(e,n.subtitleConfig??{})),n})}):e)})}var a="02/",C={voiceUrl:`${a}19-PengJiaZhuang-T.wav`,subtitle:"\u672C\u6B21\u5217\u8F66\u7EC8\u70B9\u7AD9\u5F6D\u5BB6\u5E84\u3002"},v=[{voiceUrl:`${a}Common-0201.wav`,subtitle:"\u4E0A\u4E0B\u8F66\u5F53\u5FC3\u7F1D\u9699\uFF0C\u8BF7\u6CE8\u610F\u811A\u4E0B\u5B89\u5168\u3002\u95E8\u706F\u95EA\u70C1\u65F6\uFF0C\u8BF7\u52FF\u4E0A\u4E0B\u8F66\u3002"}],rt={ui:{get title(){return"Jinan Metro Line 2"}},id:"02",nameCh:{main:"2",suffix:"\u53F7\u7EBF"},nameEn:{prefix:"Line ",main:"2"},color:"#FEDD00",direction:"up",stations:[{id:"0201",nameCh:"\u738B\u5E9C\u5E84",nameEn:"Wang Fu Zhuang",transfers:[{id:"01",nameCh:{main:"1",suffix:"\u53F7\u7EBF"},nameEn:{prefix:"Line ",main:"1"},color:"#A55FC8"}],voices:{[d.ArrivingSoon]:{ch:[{voiceUrl:`${a}01-WangFuZhuang-T.wav`,subtitle:"\u672C\u6B21\u5217\u8F66\u7EC8\u70B9\u7AD9\u738B\u5E9C\u5E84\u3002"},{voiceUrl:`${a}01-WangFuZhuang-01.wav`,subtitleConfig:{terminal:!0}},{voiceUrl:`${a}01-WangFuZhuang-0101.wav`,subtitleConfig:{transfer:!0}}],en:[,,{voiceUrl:`${a}01-WangFuZhuang-01.wav`,subtitleConfig:{terminal:!0}}]},[d.Arrived]:{ch:[{voiceUrl:`${a}01-WangFuZhuang-02.wav`,subtitleConfig:{terminal:!0}},...v],en:[,{voiceUrl:`${a}01-WangFuZhuang-02.wav`,subtitleConfig:{terminal:!0}}]}}},{id:"0202",nameCh:"\u814A\u5C71\u5357",nameEn:"La Shan Nan",voices:{[d.ArrivingSoon]:{ch:[C,`${a}02-LaShanNan-01.wav`,Z],en:[,`${a}02-LaShanNan-01.wav`]},[d.Arrived]:{ch:[`${a}02-LaShanNan-02.wav`,...v],en:[,`${a}02-LaShanNan-02.wav`]}}},{id:"0203",nameCh:"\u814A\u5C71",nameEn:"La Shan",voices:{[d.ArrivingSoon]:{ch:[C,`${a}03-LaShan-01.wav`],en:[,`${a}03-LaShan-01.wav`]},[d.Arrived]:{ch:[`${a}03-LaShan-02.wav`,...v],en:[,`${a}03-LaShan-02.wav`]}}},{id:"0204",nameCh:"\u4E8C\u73AF\u897F\u8DEF",nameEn:"Er Huan Xi Lu",voices:{[d.ArrivingSoon]:{ch:[C,`${a}04-ErHuanXiLu-01.wav`,pe],en:[,`${a}04-ErHuanXiLu-01.wav`]},[d.Arrived]:{ch:[`${a}04-ErHuanXiLu-02.wav`,...v],en:[,`${a}04-ErHuanXiLu-02.wav`]}}},{id:"0205",nameCh:"\u8001\u5C6F",nameEn:"Lao Tun",voices:{[d.ArrivingSoon]:{ch:[C,`${a}05-LaoTun-01.wav`],en:[,`${a}05-LaoTun-01.wav`]},[d.Arrived]:{ch:[`${a}05-LaoTun-02.wav`,...v],en:[,`${a}05-LaoTun-02.wav`]}}},{id:"0206",nameCh:"\u516B\u91CC\u6865",nameEn:"Ba Li Qiao",voices:{[d.ArrivingSoon]:{ch:[C,`${a}06-BaLiQiao-01.wav`],en:[,`${a}06-BaLiQiao-01.wav`]},[d.Arrived]:{ch:[`${a}06-BaLiQiao-02.wav`,...v],en:[,`${a}06-BaLiQiao-02.wav`]}}},{id:"0207",nameCh:"\u76CA\u5EB7\u8DEF",nameEn:"Yi Kang Lu",voices:{[d.ArrivingSoon]:{ch:[C,`${a}07-YiKangLu-01.wav`,Z],en:[,`${a}07-YiKangLu-01.wav`]},[d.Arrived]:{ch:[`${a}07-YiKangLu-02.wav`,...v],en:[,`${a}07-YiKangLu-02.wav`]}}},{id:"0208",nameCh:"\u6D4E\u5357\u7AD9\u5317",nameEn:"Jinan Railway<br/>Station North",voices:{[d.ArrivingSoon]:{ch:[C,`${a}08-JinanRailwayStationNorth-01.wav`],en:[,`${a}08-JinanRailwayStationNorth-01.wav`]},[d.Arrived]:{ch:[`${a}08-JinanRailwayStationNorth-02.wav`,...v],en:[,`${a}08-JinanRailwayStationNorth-02.wav`]}}},{id:"0209",nameCh:"\u6D4E\u6CFA\u8DEF",nameEn:"Ji Luo Lu",voices:{[d.ArrivingSoon]:{ch:[C,`${a}09-JiLuoLu-01.wav`],en:[,`${a}09-JiLuoLu-01.wav`]},[d.Arrived]:{ch:[`${a}09-JiLuoLu-02.wav`,...v],en:[,`${a}09-JiLuoLu-02.wav`]}}},{id:"0210",nameCh:"\u751F\u4EA7\u8DEF",nameEn:"Sheng Chan Lu",voices:{[d.ArrivingSoon]:{ch:[C,`${a}10-ShengChanLu-01.wav`,pe],en:[,`${a}10-ShengChanLu-01.wav`]},[d.Arrived]:{ch:[`${a}10-ShengChanLu-02.wav`,...v],en:[,`${a}10-ShengChanLu-02.wav`]}}},{id:"0211",nameCh:"\u5317\u56ED",nameEn:"Bei Yuan",voices:{[d.ArrivingSoon]:{ch:[C,`${a}11-BeiYuan-01.wav`],en:[,`${a}11-BeiYuan-01.wav`]},[d.Arrived]:{ch:[`${a}11-BeiYuan-02.wav`,...v],en:[,`${a}11-BeiYuan-02.wav`]}}},{id:"0212",nameCh:"\u5386\u5C71\u8DEF",nameEn:"Li Shan Lu",voices:{[d.ArrivingSoon]:{ch:[C,`${a}12-LiShanLu-01.wav`],en:[,`${a}12-LiShanLu-01.wav`]},[d.Arrived]:{ch:[`${a}12-LiShanLu-02.wav`,...v],en:[,`${a}12-LiShanLu-02.wav`]}}},{id:"0213",nameCh:"\u4E03\u91CC\u5821",nameEn:"Qi Li Pu",voices:{[d.ArrivingSoon]:{ch:[C,`${a}13-QiLiPu-01.wav`,Z],en:[,`${a}13-QiLiPu-01.wav`]},[d.Arrived]:{ch:[`${a}13-QiLiPu-02.wav`,...v],en:[,`${a}13-QiLiPu-02.wav`]}}},{id:"0214",nameCh:"\u795D\u7538",nameEn:"Zhu Dian",voices:{[d.ArrivingSoon]:{ch:[C,`${a}14-ZhuDian-01.wav`],en:[,`${a}14-ZhuDian-01.wav`]},[d.Arrived]:{ch:[`${a}14-ZhuDian-02.wav`,...v],en:[,`${a}14-ZhuDian-02.wav`]}}},{id:"0215",nameCh:"\u516B\u6DA7\u5821",nameEn:"Ba Jian Pu",voices:{[d.ArrivingSoon]:{ch:[C,`${a}15-BaJianPu-01.wav`,{voiceUrl:`${a}15-BaJianPu-0101.wav`,subtitleConfig:{transfer:!0}}],en:[,,`${a}15-BaJianPu-01.wav`]},[d.Arrived]:{ch:[`${a}15-BaJianPu-02.wav`,...v],en:[,`${a}15-BaJianPu-02.wav`]}},transfers:[{id:"03",nameCh:{main:"3",suffix:"\u53F7\u7EBF"},nameEn:{prefix:"Line ",main:"3"},color:"#004B87"}]},{id:"0216",nameCh:"\u59DC\u5BB6\u5E84",nameEn:"Jiang Jia Zhuang",voices:{[d.ArrivingSoon]:{ch:[C,`${a}16-JiangJiaZhuang-01.wav`,pe],en:[,`${a}16-JiangJiaZhuang-01.wav`]},[d.Arrived]:{ch:[`${a}16-JiangJiaZhuang-02.wav`,...v],en:[,`${a}16-JiangJiaZhuang-02.wav`]}}},{id:"0217",nameCh:"\u51E4\u51F0\u8DEF",nameEn:"Feng Huang Lu",voices:{[d.ArrivingSoon]:{ch:[C,`${a}17-FengHuangLu-01.wav`],en:[,`${a}17-FengHuangLu-01.wav`]},[d.Arrived]:{ch:[`${a}17-FengHuangLu-02.wav`,...v],en:[,`${a}17-FengHuangLu-02.wav`]}}},{id:"0218",nameCh:"\u9C8D\u5C71",nameEn:"Bao Shan",voices:{[d.ArrivingSoon]:{ch:[C,`${a}18-BaoShan-01.wav`,Z],en:[,`${a}18-BaoShan-01.wav`]},[d.Arrived]:{ch:[`${a}18-BaoShan-02.wav`,...v],en:[,`${a}18-BaoShan-02.wav`]}}},{id:"0219",nameCh:"\u5F6D\u5BB6\u5E84",nameEn:"Peng Jia Zhuang",voices:{[d.ArrivingSoon]:{ch:[C,{voiceUrl:`${a}19-PengJiaZhuang-01.wav`,subtitleConfig:{terminal:!0}}],en:[,{voiceUrl:`${a}19-PengJiaZhuang-01.wav`,subtitleConfig:{terminal:!0}}]},[d.Arrived]:{ch:[{voiceUrl:`${a}19-PengJiaZhuang-02.wav`,subtitleConfig:{terminal:!0}},...v],en:[,{voiceUrl:`${a}19-PengJiaZhuang-02.wav`,subtitleConfig:{terminal:!0}}]}}}]},Zt=["Wangfuzhuang","South Lashan","Lashan","West Erhuan Road","Laotun","Baliqiao","Yikang Road","North Jinan<br>Railway Station","Jiluo Road","Shengchan Road","Beiyuan","Lishan Road","Qilipu","Zhudian","Bajianpu","Jiangjiazhuang","Fenghuang Road","Baoshan","Pengjiazhuang"],lt=at(F(w({},rt),{stations:rt.stations.map((t,e)=>F(w({},t),{nameEn:Zt[e]??t.nameEn}))}));var zt=(t,e)=>e.id;function Ut(t,e){if(t&1&&(s(0,"mat-option",6),m(1),c()),t&2){let l=e.$implicit;f("value",l),p(),y(l.ui.title)}}function Qt(t,e){if(t&1){let l=N();s(0,"div",3)(1,"span",4)(2,"mat-form-field")(3,"mat-label"),m(4,"Line"),c(),s(5,"mat-select",5),_("valueChange",function(i){O(l);let n=x();return T(n.onLineChange(i))}),j(6,Ut,2,2,"mat-option",6,zt),c()()()()}if(t&2){let l=e.$implicit,o=x();p(5),f("value",o.line)("disabled",l.editing),p(),D(o.lines)}}var st=(()=>{let e=class e{constructor(o){this.title=o,this.lines=Object.values(_e),this.onLineChange(this.lines[0])}onLineChange(o){this.title.setTitle(o.ui.title||"Metro LCD"),this.line=o}};e.\u0275fac=function(i){return new(i||e)(S(ke))},e.\u0275cmp=h({type:e,selectors:[["lcd-outlet"]],features:[Ie([k,M])],decls:4,vars:2,consts:[["customOperation",""],[3,"line"],[3,"customOperation"],[1,"lcd-operation-panel__category"],[1,"lcd-operation-panel__operation-item"],[3,"valueChange","value","disabled"],[3,"value"]],template:function(i,n){if(i&1&&(g(0,"lcd-container",1)(1,"lcd-operation-panel",2),E(2,Qt,8,2,"ng-template",null,0,ee)),i&2){let r=X(3);f("line",n.line),p(),f("customOperation",r)}},dependencies:[oe,ie,Fe,Me,qe,tt]});let t=e;return t})();var Wt=[{path:"",component:st}],ct=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=G({type:e}),e.\u0275inj=Y({imports:[fe.forChild(Wt),fe]});let t=e;return t})();var wi=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=G({type:e}),e.\u0275inj=Y({imports:[Ne,ct]});let t=e;return t})();export{wi as LcdModule};
